/*
 VideoStir Player JavaScript library.
 @author Alexey Bass (@alexey_bass)
 @copyright VideoStir Ltd., http://videostir.com
*/
var videoPosition=null;VS.jQuery(document).ready(function(){VS.Player.init()});
VS.Player={Version:"2.15.3",VersionDate:"31-03-15",_containerId:"videostir-player",_containerInnerId:"videostir-player-inner",_preloadContainerId:"videostir-player-preload",_playerUrl:"http://8b249279a23ebe6382fe-bdbb90f389a017a4d0321ddd645160f1.r73.cf1.rackcdn.com/swf/150319/vs.player.swf",_mobileNavigatorRegexp:/webOS|iPhone|iPad|iPod|BlackBerry|Android/i,_mozilaRegExp:/Firefox/,_pause:!1,_parallel:"false",_quiet:!1,_playbackPosition:"",_debug:!1,_frameToFreeze:5,_secureStats:!1,init:function(){},
parseLegacyVideo:function(b){if(-1!==b.indexOf("://videostir.com/")){var f=b.match(/\/go\/video\/([a-z0-9]{32})/);return f&&2===f.length?f[1]:b}return b},checkFocusOnPage:function(){!document.hasFocus()&&!0!=VS.Player._pause&&(VS.Player.Api.outOfFocus(),VS.Player._pause=!0);setTimeout(VS.Player.checkFocusOnPage,100)},sendTimeonSite:function(){VS.Player.loging(" sendOnTime level="+VS.Stats._level);inter=5E3;timeOnSite=0;var b=setInterval(function(){if(document.hasFocus()){if(3!=VS.Stats._level)return;
timeOnSite+=Math.round(5);VS.Player.loging("sending time on site -"+timeOnSite);var f=VS.Stats._sequenceNumber++,c=(new Date).getTime()-VS._zeroTime;VS.Stats.sendEvent(VS.Stats._videoHash,f,c,"timeOnSite",timeOnSite)}240<=timeOnSite&&clearInterval(b)},inter)},show:function(b,f,c,a,d){d=d||{};d.loged&&(VS.Player._debug=!0);VS.Player.loging("Player version is "+VS.Player.Version+" version date:"+VS.Player.VersionDate);VS.Player.loging("Stats level="+VS.Stats._level);!0!=VS.Player._parallel&&VS.Player.isExists()&&
VS.Player.remove();VS.jQuery(document).unbind("atFrame.vs-player");VS.Player._containerId+=a.substr(0,3);VS.Player._containerInnerId+=a.substr(0,4);VS.Player._preloadContainerId+=a.substr(0,5);if(!VS.Player._mobileNavigatorRegexp.test(navigator.userAgent)||d.youtube){a=VS.Player.parseLegacyVideo(a);VS.Stats.setHash(a);VS.Player.checkFocusOnPage();VS.Player.sendTimeonSite();var e=new VS.Player.Cookie(a),h=e.getViewsCount();if(d["fake-show-every"]&&Math.floor(Math.random()*d["fake-show-every"]+1)===
parseInt(d["fake-show-every"]))VS.Stats.trigger("jsFakeShow"),VS.Player._fakeShow=!0,e=new VS.Player.Cookie(a),e.addViewsCount();else{if(d["disable-player-threshold"]){if(h>=d["disable-player-threshold"])return;delete d["disable-player-threshold"]}var g=VS.jQuery.extend({},d);d.videostir_views=h;delete g.videostir_views;var j=VS.Player.makeCss(b,f,c),l=VS.Player.makePlayerParams(a,d),a=window.location.href;Math.round(1);Math.round(4);VS.Stats.trigger("jsShow",VS.jQuery.extend({},{position:b,width:f,
height:c},g));VS.Stats.trigger("embedOn",a);!0==VS.Player._quiet&&VS.Stats.trigger("silent","");VS.jQuery(document).ready(function(){videoPosition?videoPosition.append('<div id="'+VS.Player._containerId+'"></div>'):VS.jQuery("body").append('<div id="'+VS.Player._containerId+'"></div>');var a=VS.jQuery("#"+VS.Player._containerId);a.css(j);var b="",g;for(g in j)b=b+(g+": "+j[g]+"; ");if(VS.jQuery.browser.msie){VS.swfobject.createCSS("#"+VS.Player._containerId,b);document.getElementById(VS.Player._containerId).setAttribute("style",
b)}a.append('<div id="'+VS.Player._containerInnerId+'"></div>');if(d.youtube&&VS.Player._mobileNavigatorRegexp.test(navigator.userAgent)){VS.Player.showYoutube(f,c,d.youtube);delete d.youtube}else{VS.swfobject.embedSWF(VS.Player.getPlayerUrl(VS.Player.isSecure()),VS.Player._containerInnerId,f,c,"9.0.0","",l.flashvars,l.params,l.attributes);VS.Player.addLabel(d,a);e.addViewsCount()}})}}},addLabel:function(b,f){if(void 0!==b.label){var c=b.label;if(void 0!==c.name||void 0!==c.title){var a={name:"",
title:"","font-family":"Tahoma","font-size":11,"font-color":"white","bg-color":"black","bg-opacity":0.8,"start-sec":3,"remove-sec":10},d=0,e="",h="1em";void 0!==c.name&&void 0!==c.title&&(e="<br>",h="2em");for(key in c)switch(key){case "name":d=c.name.length;break;case "title":d<c.title.length&&(d=c.title.length);break;case "font-family":a["font-family"]=c["font-family"];break;case "font-size":a["font-size"]=parseInt(c["font-size"]);break;case "font-color":a["font-color"]=c["font-color"];break;case "bg-color":a["bg-color"]=
c["bg-color"];break;case "bg-opacity":a["bg-opacity"]=parseFloat(c["bg-opacity"]);break;case "start-sec":a["start-sec"]=parseInt(c["start-sec"]);break;case "remove-sec":a["remove-sec"]=parseInt(c["remove-sec"])}var g;g='<div id="player-title" style=" text-align:center;border-radius: 7px;'+("font-family: "+a["font-family"]+";");g+="font-size:"+a["font-size"]+"pt;";g+="color:"+a["font-color"]+";";g+="background-color:"+a["bg-color"]+"; ";g+="opacity:"+a["bg-opacity"]+";";g=g+("height: "+h+"; width: "+
d+"ex; margin-top: 5px; margin-bottom: 5px; padding-top: 5px; padding-bottom: 5px;")+'position: absolute;left:0px;top:0px; pointer-events:none;"><strong>'+(c.name+e+c.title);f.append(g+"</strong></div>");c=document.getElementById("player-title");d=window.getComputedStyle(c,null).getPropertyValue("width");c.style.left=parseInt(VS.jQuery("#"+VS.Player._containerId).width())/2-(parseInt(d)/2+15)+"px";c.style.top=2*(VS.jQuery("#"+VS.Player._containerId).height()/3)+"px";c=VS.jQuery("#player-title");c.hide();
c.delay(1E3*parseInt(a["start-sec"])).fadeIn(2E3);c.delay(1E3*parseInt(a["remove-sec"])).fadeOut(2E3)}}},showYoutube:function(b,f,c){var a=VS.jQuery("#"+VS.Player._containerId).prepend('<div class="toolbar" style="text-align: right;"><button onclick="VS.Player.remove();" style="font-size: 12pt;">[&times;] Close</button></div>');a.height(a.height()+a.find("div.toolbar").height());VS.jQuery("#"+VS.Player._containerInnerId).append('<iframe width="'+b+'" height="'+f+'" src="http'+(VS.Player.isSecure()?
"s":"")+"://www.youtube.com/embed/"+c+'?rel=0" frameborder="0" allowfullscreen></iframe>')},createPreloadContainer:function(){0===VS.Player._preloadContainerCounter&&VS.jQuery("body").append('<div id="'+VS.Player._preloadContainerId+'"></div>')},removePreloadContainer:function(){var b=VS.jQuery("#"+VS.Player._preloadContainerId);if(b.length){for(var f=b.find("> *"),c=0,a=f.length;c<a;c++)VS.swfobject.removeSWF(VS.jQuery(f[c]).attr("id"));b.remove()}},_preloadContainerCounter:0,addPreloadingItemContainer:function(){VS.Player._preloadContainerCounter++;
var b=VS.Player._preloadContainerId+"-item-"+VS.Player._preloadContainerCounter;VS.jQuery("#"+VS.Player._preloadContainerId).append('<div id="'+b+'"></div>');return b},on:function(b,f){return{show:function(){var c=arguments;VS.Player.createPreloadContainer();VS.swfobject.embedSWF(VS.Player.getPlayerUrl(VS.Player.isSecure()),VS.Player.addPreloadingItemContainer(),1,1,"9.0.0","",{videoHash:VS.Player.parseLegacyVideo(c[3]),https:VS.Player.isSecure()?1:0,autop:!1},{menu:"false"},{menu:"false"});VS.jQuery(b).on(f,
function(){VS.Player.removePreloadContainer();VS.Player.show.apply(VS.Player,c)})}}},preload:function(b){VS.jQuery(document).ready(function(){VS.Stats.trigger("jsPreload");VS.Player.createPreloadContainer();VS.swfobject.embedSWF(VS.Player.getPlayerUrl(VS.Player.isSecure()),VS.Player.addPreloadingItemContainer(),1,1,"9.0.0","",{videoHash:b,https:VS.Player.isSecure()?1:0,autop:!1},{menu:"false"},{menu:"false"})})},remove:function(){VS.swfobject.removeSWF(VS.Player._containerInnerId);VS.jQuery("#"+VS.Player._containerId).remove()},
isExists:function(){return VS.jQuery("#"+VS.Player._containerId).length?!0:!1},makeCss:function(b,f,c){var a={left:"auto",top:"auto",right:"auto",bottom:"auto",position:"fixed","z-index":"1000000",margin:"0",padding:"0",width:f+"px",height:c+"px",opacity:"1.0"};VS.Player._mozilaRegExp.test(navigator.userAgent)&&(a.opacity="0.95");if("string"===typeof b)switch(b){case "top-left":a.top="0px";a.left="0px";break;case "top-right":a.top="0px";a.right="0px";break;case "bottom-left":a.bottom="0px";a.left=
"0px";break;case "bottom-right":a.bottom="0px";a.right="0px";break;case "center":var b=VS.jQuery(window),d="number"===typeof window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:b.height();a.left=(b.width()-f)/2+b.scrollLeft()+"px";a.top=(d-c)/2+b.scrollTop()+"px";a.right="auto";a.bottom="auto"}else if("object"===typeof b){for(d in b)switch(d){case "left":case "top":case "right":case "bottom":b[d]=String(b[d]);
!isNaN(parseFloat(b[d]))&&isFinite(b[d])&&(b[d]+="px");break;case "object":obj=VS.jQuery('[name="'+b[d]+'"]');"vsdiv"==b[d]&&(videoPosition=obj,a.position="static");objPos=VS.jQuery(obj).get(0).getBoundingClientRect();a.top=objPos.top;a.left=objPos.left;break;case "offsetTop":a.top-=-b[d];break;case "offsetLeft":a.left-=-b[d]}VS.jQuery.extend(a,b)}else a.left="0px",a.top="0px";VS.jQuery.browser.msie&&"BackCompat"==document.compatMode&&(a.top.length&&"auto"!=a.top?(a.position="absolute !important",
a.top='expression(((document.documentElement.scrollTop || document.body.scrollTop) + (!this.offsetHeight && 0)) + "px")'):a.bottom.length&&"auto"!=a.bottom&&(a.position="absolute !important",a.top='expression(((document.documentElement.scrollTop || document.body.scrollTop) + (document.documentElement.clientHeight || document.body.clientHeight) - this.offsetHeight) + "px")',a.bottom="auto"));return a},arPush:function(b,f){var c=[];c[0]=f;if(void 0===b.length)c[1]=b;else{var a;for(a=0;a<b.length;a++)c[a+
1]=b[a]}return c},makePlayerParams:function(b,f){var c={flashvars:{},params:{},attributes:{}};c.flashvars.videoHash=encodeURIComponent(b);c.flashvars.https=VS.Player.isSecure()?1:0;c.flashvars.videostir_referer=encodeURIComponent(VS.Player.getReferrer());c.flashvars.vspv=VS.Player.Version;c.params.wmode="transparent";c.params.quality="high";c.params.allowScriptAccess="always";c.params.menu=!1;c.attributes.wmode="transparent";c.attributes.quality="high";c.attributes.allowScriptAccess="always";c.attributes.menu=
!1;c.flashvars.linkTo=!0;for(var a in f)switch(a){case "auto-play":if(!f[a]&&!f.quiet){var d=f.freeze;void 0===d?f.freeze=[this._frameToFreeze]:(d=this.arPush(d,this._frameToFreeze),f.freeze=d);f["auto-play"]=!0}}for(var e in f)switch(e){case "auto-play":c.flashvars.autop=f[e];break;case "auto-play-limit":c.flashvars.maxPlayedTimes=f[e];break;case "playback-delay":c.flashvars.delayS=f[e];break;case "on-finish":switch(f[e]){case "remove":c.flashvars.afterDone="close";break;case "play-button":c.flashvars.afterDone=
"bigPlayButton";break;case "blank":c.flashvars.afterDone="empty"}break;case "rotation":c.flashvars.rotationG=f[e];break;case "zoom":c.flashvars.zoomPerc=f[e]/100;break;case "offset-x":c.flashvars.offsetOnX=f[e];break;case "offset-y":c.flashvars.offsetOnY=f[e];break;case "on-click-open-url":c.flashvars.linkTo=!0;c.flashvars.goButtonUrl=encodeURIComponent(0===f[e].indexOf("http")?f[e]:"http://"+f[e]);break;case "on-click-open-url-target":switch(f[e]){case "blank":c.flashvars.goButtonLogic="newWindow";
break;case "self":c.flashvars.goButtonLogic="sameWindow"}break;case "on-click-open-url-button-position":c.flashvars.goButtonFrame=1;switch(f[e]){case "left":case "center":case "right":c.flashvars.goButtonLocation=f[e]}break;case "on-click-event":c.flashvars.linkTo=!0;break;case "clip-fps":c.flashvars.clipFps=f[e];break;case "playback-freeze-frame":c.flashvars.freeze=f[e];break;case "brand-id":c.flashvars.brandId=f[e];break;case "brand-onclick-open-url":c.flashvars.brandOnclickOpenUrl=encodeURIComponent(0===
f[e].indexOf("http")?f[e]:"http://"+f[e]);break;case "quiet":VS.Player._quiet=!0;c.flashvars.quiet=f[e];break;case "movement":a=[];if(f[e].scenario){for(d=0;d<f[e].scenario.length;d++)a.push(f[e].scenario[d][0]);a.length&&(VS.jQuery(document).bind("atFrame.vs-player",{scenario:f[e].scenario},function(a,e){for(var b=0;b<a.data.scenario.length;b++)if(parseInt(e)===parseInt(a.data.scenario[b][0]))if("function"===typeof a.data.scenario[b][1])a.data.scenario[b][1].call(this,VS.jQuery("#"+VS.Player._containerId));
else{var d=objPos=VS.jQuery("#"+VS.Player._containerId).get(0).getBoundingClientRect();"scroll-up"!=a.data.scenario[b][1]&&("scroll-down"!=a.data.scenario[b][1]&&"scroll-left"!=a.data.scenario[b][1]&&"scroll-right"!=a.data.scenario[b][1])&&(VS.jQuery("#"+VS.Player._containerId).css("top",d.top),VS.jQuery("#"+VS.Player._containerId).css("left",d.left));var d="=5",c=50,f=1E3,h=null,r=null,s=null,p=a.data.scenario[b][1];b<a.data.scenario.length-1&&(f=a.data.scenario[b+1][0]-5);var q=1,d="=2",c=20;VS.Player._mozilaRegExp.test(navigator.userAgent)&&
(c=40,q=1);switch(a.data.scenario[b][2]){case "very-fast":d="=10";break;case "fast":d="=4";break;case "medium":d="=2";break;case "slow":d="=1";q=10;break;case "very-slow":d="=1";q=25;break;default:d="=5"}a.data.scenario[b][3]&&(h=document.getElementById(a.data.scenario[b][3]),a.data.scenario[b][4]&&(r=a.data.scenario[b][4]),a.data.scenario[b][5]&&(s=a.data.scenario[b][5]));var n="=0",o="=0";switch(p){case "scroll-down":n="+"+d;break;case "scroll-up":n="-"+d;break;case "scroll-left":o="-"+d;break;
case "scroll-right":o="+"+d;break;case "move-left":o="-"+d;break;case "move-right":o="+"+d;break;case "move-up":n="-"+d;break;case "move-down":n="+"+d;break;case "move-diagonal-left-up":n="-"+d;o="-"+d;break;case "move-diagonal-left-down":n="+"+d;o="-"+d;break;case "move-diagonal-right-up":n="-"+d;o="+"+d;break;case "move-diagonal-right-down":n="+"+d,o="+"+d}var u=setInterval(function(){VS.Player._pause==true||VS.Player.Api.getCurrentFrame()>f||check_position(h,p,null,r,s)?clearInterval(u):p!="scroll-down"&&
p!="scroll-up"&&p!="scroll-left"&&p!="scroll-right"?VS.jQuery("#"+VS.Player._containerId).animate({top:n,left:o},q):VS.jQuery("html,body").animate({scrollTop:n,scrollLeft:o},q)},c)}}),c.flashvars.framesToReport=a)}break;case "url-jumps":var h='<iframe id="videostir-jumps-container" frameborder="0"';(!f[e].fullscreen||!0===f[e].fullscreen)&&VS.jQuery("html, body").css({width:"100%",height:"100%",margin:0,padding:0,overflow:"hidden"});f[e].css&&(h+=' style="'+f[e].css+'"');a=[];if(f[e].scenario){"start"===
f[e].scenario[0][0]&&(h+=' src="'+f[e].scenario[0][1]+'"',f[e].scenario=f[e].scenario.slice(1));for(d=0;d<f[e].scenario.length;d++)"end"===f[e].scenario[d][0]?VS.jQuery(document).bind("playbackPosition.vs-player",{scenario:f[e].scenario[d]},function(a,d){if(parseInt(d)===100)a.data.scenario[1]==="close"?window.close():window.location.href=a.data.scenario[1]}):(a.push(f[e].scenario[d][0]),VS.jQuery(document).bind("atFrame.vs-player",{scenario:f[e].scenario[d]},function(a,d){parseInt(d)===parseInt(a.data.scenario[0])&&
VS.jQuery("#videostir-jumps-container").attr("src",a.data.scenario[1])}))}h+="></iframe>";VS.jQuery("body").append(h);c.flashvars.framesToReport=a;break;case "framesToReportAll":c.flashvars.framesToReportAll=f[e];1===f[e]&&VS.jQuery(document).bind("atFrame.vs-player",function(){});break;default:c.flashvars[e]=f[e]}c.flashvars.freeze&&(c.flashvars.autop=!0);VS.jQuery(document).bind("bigBtnPlay.vs-player",{},function(){VS.Player._quiet=false;VS.jQuery(document).trigger("bigPlay")});VS.jQuery(document).bind("btnPlay.vs-player",
{},function(){VS.Player._quiet=false});VS.jQuery(document).bind("pause.vs-player",{},function(){VS.Player._pause=true});VS.jQuery(document).bind("play.vs-player",{},function(){VS.Player._pause=false});VS.jQuery(document).bind("mute.vs-player",{},function(){VS.Player._quiet=true});VS.jQuery(document).bind("unmute.vs-player",{},function(){VS.Player._quiet=false});VS.jQuery(document).bind("remove.vs-player",{},function(){VS.jQuery(document).unbind("atFrame.vs-player")});VS.jQuery(document).bind("playbackPosition.vs-player",
{},function(a,d){VS.Player._playbackPosition=d;if(d>95){VS.jQuery("html,body").stop(true,false);VS.Player._pause=true;VS.jQuery(document).unbind("atFrame.vs-player")}});return c},getReferrer:function(){return window.location.href},getPlayerUrl:function(b){return b?"https"+VS.Player._playerUrl.replace(/\.r[0-9]{2}\./,".ssl.").substr(4):VS.Player._playerUrl},isSecure:function(){return"https:"===document.location.protocol?!0:!1},loging:function(b){VS.Player._debug&&console.log(b)}};
VS.Player.Cookie=function(b){var f,c,a,d,e,h,g=function(a){var d=[0,0];if(-1!==a.indexOf("|")){var a=a.split("|"),b;for(b in a)d[b]=parseInt(a[b])}else d[0]=parseInt(a);return d};this.getViewsCount=function(){return d[0]};this.getLastViewed=function(){return d[1]};this.getFirstLastViewed=function(){return e[1]};this.addViewsCount=function(a){a=d[0]+(a||1)+"|"+Math.round((new Date).getTime()/1E3);VS.Player._fakeShow||(VS.jQuery.cookie(f,a,{expires:365}),d=a);if(1==d[0]||0==d[0])show=VS.Player._fakeShow?
1:2,session_id=VS.Stats._sessionId,a=show+"|"+Math.round((new Date).getTime()/1E3)+"|"+session_id,VS.jQuery.cookie(c,a,{expires:365}),e=a};this.addConversUrls=function(){cur_url=window.location.href;var d="";if(0==h[0])d=cur_url;else{for(i=0;i<h.length;i++)d+=h[i]+"|";d+=cur_url}VS.jQuery.cookie(a,d,{expires:365});h=g(d)};this.checkShow=function(){return 1==e[0]?!1:!0};this.check_vsf=function(){return 0==e[0]?!1:!0};this.check_vsc=function(){result=!1;cur_url=window.location.href;if(0!=h[0])for(i=
0;i<h.length;i++)h[i]===cur_url&&(result=!0);return result};this.getFirstSessionId=function(){return e[2]};f="vsv"+b;c="vsf"+b;a="vsc"+b;d=(d=VS.jQuery.cookie(f))?g(d):[0,0];e=(e=VS.jQuery.cookie(c))?g(e):[0,0,0,0,0];if(h=VS.jQuery.cookie(a)){var b=h,j=[0];if(-1!==b.indexOf("|")){var b=b.split("|"),l;for(l in b)j[l]=b[l]}else j[0]=b;h=j}else h=[0]};
VS.Player.Api={play:function(b){b=0<=b?b:VS.Player.Api.getCurrentFrame();try{return VS.swfobject.getObjectById(VS.Player._containerInnerId).play(b),!0}catch(f){}return!1},pause:function(){try{return VS.swfobject.getObjectById(VS.Player._containerInnerId).pause(),!0}catch(b){}return!1},getCurrentFrame:function(){try{return VS.swfobject.getObjectById(VS.Player._containerInnerId).getCurrentFrame()}catch(b){}return!1},outOfFocus:function(){try{return VS.swfobject.getObjectById(VS.Player._containerInnerId).outOfFocus(),
!0}catch(b){}return!1}};
(function(b,f,c){var a={_level:0,_statsUrl:VS.Player.isSecure()?"//videostir.com/stats/analytics/":"//stats.videostir.net/analytics/",_statsUrl1:"//views.videostir.net/get-stats",_sendTimeout:200,_videoHash:"",_sessionId:0,_sequenceNumber:0,SEND_DISABLED:0,SEND_CONSOLE:1,SEND_SERVER:2,SEND_STATS:2,_stack:[],_playAtBegin:!1,init:function(){a._sessionId=a.generateSessionId();a.bindListenners();b(c).ready(function(){a.trigger("jsDomReady")})},enable:function(d){a._level===a.SEND_CONSOLE&&(d===a.SEND_SERVER?
d=a._level+a.SEND_SERVER:d===a.SEND_DISABLED&&(d=a.SEND_CONSOLE));a._level=parseInt(d);a._conversionLogicAttached||a.attachConversionLogic();a._level&a.SEND_SERVER&&a.sendPendingEventsFromStack()},setHash:function(d){a._videoHash=a.findHash(d)},_conversionLogicAttached:!1,sendPendingEventsFromStack:function(){var d,b,c;for(d in a._stack)b=a._stack[d],c=b[0],0===c&&(b[0]=1,a.sendEvent(b[1],b[2],b[3],b[4],b[5]))},attachConversionLogic:function(){a._conversionLogicAttached=!0;b(".vs-stats-conversion-onclick").on("click",
function(d){a.triggerConversion(d)})},findHash:function(a){return(a=a.match(/(as-[a-z0-9]{32}|[a-z0-9]{32})/))&&2===a.length?a[1]:!1},generateSessionId:function(){return parseInt(Math.floor(428*Math.random()+11)+""+((new Date).getTime()+"").substr(6))},bindListenners:function(){b(c).bind("jsShow jsDomReady jsUnload jsFakeShow jsPreload initFlash startLoading finishLoading loadError pause play mute unmute remove close playbackPosition gotoLink gotoHome onclick conversion unique empty silent bigPlay embedOn timeOnSite freeze freezeOnStart focusOut".split(" ").join(".vs-player ")+
".vs-player",function(d,b){a.log(d.type,b)});b(f).bind("beforeunload",function(){a.log("jsUnload")})},trigger:function(a,e){(e=e||!1)?b(c).trigger(a+".vs-player",[e]):b(c).trigger(a+".vs-player")},_conversionElement:null,triggerConversion:function(d){var e=b(d.currentTarget);a._conversionElement=e;e.is("a")&&d.preventDefault();d=d.currentTarget.nodeName;e.attr("vs-conversion-id")&&(d+=" conversion-id="+e.attr("vs-conversion-id"));a.trigger("conversion",d)},log:function(d,b,c){var c=c||a._level,g=
a._sequenceNumber++,j=(new Date).getTime()-VS._zeroTime,l=0;if(!a.isJunkEvent(d,j,b)){if(c&a.SEND_CONSOLE&&f.console){var m=a._stack.length?j-a._stack[a._stack.length-1][3]:0,m="("+(m&&(1E3<m?(m/1E3).toFixed(1)+" s":m+" ms"))+")";VS.Player.loging(a._videoHash,a._sessionId,g,j,m,d,b?b:"")}VS.Player._quiet&&"playbackPosition"==d&&(b+=":quiet");c&a.SEND_SERVER&&(a.sendEvent(a._videoHash,g,j,d,b),l=1);VS.Player._fakeShow&&a.sendEvent(a._videoHash,g,j,"jsFakeShow",b);c=new VS.Player.Cookie(a._videoHash);
unique=views=c.getViewsCount();a._stack.push([l,a._videoHash,g,j,d,b,unique]);"playbackPosition"===d&&"0"===b&&(c=new VS.Player.Cookie(a._videoHash),1===c.getViewsCount()&&a.trigger("unique"))}},isJunkEvent:function(b,c,f){var g=!1;if(!a._stack.length)return g;var j=a._stack[a._stack.length-1];"playbackPosition"===b?j[5]===f&&(g=!0):j[4]===b&&100>Math.abs(c-j[3])&&(g=!0);return g},sendEvent:function(d,c,h,g,j){if(!VS.Player.isSecure()||VS.Player._secureStats){VS.Player.loging("sendEvent:"+g);var l=
new VS.Player.Cookie(d);firstSessionId=l.getFirstSessionId();unique=views=l.getViewsCount();if("pause"==g||"bigPlay"==g||"play"==g||"mute"==g||"unmute"==g||"remove"==g||"gotoHome"==g||"gotoLink"==g)VS.Player._quiet?j="quiet":0;"startLoading"==g&&(a._playAtBegin=!0);if(("play"!=g||a._playAtBegin)&&"unique"!=g){sessionId="conversion"==g?firstSessionId:a._sessionId;if(1==a.SEND_STATS||3==a.SEND_STATS)b.ajax({type:"get",url:a._statsUrl,data:{h:d,s:a._sessionId,n:c,t:h,e:g,d:j,u:unique},async:"jsUnload"===
g?!1:!0,crossDomain:!0,cache:!1,dataType:"jsonp",jsonp:"vs",jsonpCallback:"_",processData:!0,timeout:a._sendTimeout,fail:function(){f.log&&VS.Player.loging("sendEvent ajax fail",arguments)},complete:function(){if(g==="conversion"&&a._conversionElement&&a._conversionElement.is("a")){f.location=a._conversionElement.attr("href");a._conversionElement=null}}});2<=a.SEND_STATS&&b.ajax({type:"get",url:a._statsUrl1,data:{h:d,s:a._sessionId,n:c,t:h,e:g,d:j,u:unique},async:"jsUnload"===g?!1:!0,crossDomain:!0,
cache:!1,dataType:"jsonp",jsonp:"vs",jsonpCallback:"_",processData:!0,timeout:a._sendTimeout,fail:function(){f.log&&VS.Player.loging("sendEvent ajax fail",arguments)},complete:function(){if(g==="conversion"&&a._conversionElement&&a._conversionElement.is("a")){f.location=a._conversionElement.attr("href");a._conversionElement=null}}})}}},markConversion_old:function(b){var c=new VS.Player.Cookie(b),f=Math.round(VS._zeroTime/1E3);0===c.getViewsCount()?(a.setHash(b),a.enable(a.SEND_SERVER),a.trigger("conversion",
-1)):1===c.getViewsCount()&&108E3>f-c.getLastViewed()&&(a.setHash(b),a.enable(a.SEND_SERVER),a.trigger("conversion",1))},markConversion:function(b){var c=new VS.Player.Cookie(b),h=Math.round(VS._zeroTime/1E3);c.check_vsf()&&(!c.check_vsc()&&!(2<c.getViewsCount()))&&(c.checkShow()?1800<h-c.getLastViewed()||(cur_url=f.location.href,a.setHash(b),a.enable(a.SEND_SERVER),a.trigger("conversion",cur_url),c.addConversUrls()):1<c.getViewsCount()||(a.setHash(b),a.enable(a.SEND_SERVER),a.trigger("conversion",
-1),c.addConversUrls()))}};f.VS.Stats=a;a.init()})(VS.jQuery,window,document);
VS.Player.Playlist=function(b){function f(b,f){switch(b.type){case "finishLoading":"string"===typeof e[k-1].clip&&e[k-1].clip===a?VS.jQuery(document).trigger("next.vs-player-playlist"):d===c&&VS.jQuery(document).trigger("next.vs-player-playlist");break;case "playbackPosition":100===parseInt(f)&&(S.jQuery(document).unbind("atFrame.vs-player"),VS.jQuery("html,body").stop(!0,!1),VS.jQuery(document).trigger("next.vs-player-playlist"))}}var c="trigger",a="preload",d=b.settings.strategy||"default",e,h=
b.clips,b=[],g;switch(d){case "show-one-never-seen":var j;for(g in h)if("object"===typeof h[g].clip&&(j=h[g].clip[3],0===(new VS.Player.Cookie(j)).getViewsCount())){b.push(h[g]);break}break;case "random":b.push(h[Math.floor(Math.random()*h.length)]);break;case "random-weight":j=[];var l=0,m=0;for(g in h)l+=h[g].weight||0,j.push(l);l=Math.round(Math.random()*l);for(g in j)if(l<j[g]){m=g;break}b.push(h[m]);break;case c:for(g in h)(function(a){VS.jQuery("#"+h[a].target).bind(h[a].action+".videostir",
function(b){-1!==["mouseenter","mouseleave","mousemove","mouseout","mouseover"].indexOf(b.type)&&VS.jQuery("#"+h[a].target).unbind(".videostir");VS.Player.show.apply(VS.Player,h[a].clip.slice(0))})})(g),b.push(h[g]);break;default:b=h}e=b;var k=0;"loop-forever"==d&&(VS.Player._parallel=!0);if("parallel"==d){VS.Player._parallel=!0;var t=setInterval(function(){k>e.length-1&&clearInterval(t);k<e.length&&VS.Player.show.apply(VS.Player,e[k++].clip)},10)}else VS.jQuery(document).bind("next.vs-player-playlist",
function(){if(k<e.length)switch(typeof e[k].clip){case "string":switch(e[k].clip){case "pause":VS.Player.remove();setTimeout(function(){VS.jQuery(document).trigger("next.vs-player-playlist")},e[k].duration);k++;break;case "empty":VS.Stats.setHash(e[k].hash);VS.Stats.log("empty",null,VS.Stats.SEND_SERVER);k++;VS.jQuery(document).trigger("next.vs-player-playlist");break;case a:VS.Player.show("bottom-right",1,1,e[k].hash,{"auto-play":false});k++}break;default:switch(d){case c:VS.Player.show("bottom-right",
1,1,e[k].clip[3],{"auto-play":false});k++;break;case "parallel":break;default:VS.Player.show.apply(VS.Player,e[k].clip);k++}}else if(d=="loop-forever"){k=0;VS.jQuery(document).trigger("next.vs-player-playlist")}else VS.jQuery(document).unbind("finishLoading.vs-player playbackPosition.vs-player",f)});VS.jQuery(document).bind("finishLoading.vs-player playbackPosition.vs-player",f);e.length&&VS.jQuery(document).trigger("next.vs-player-playlist")};
function check_position(b,f,c,a,d){c=!1;if(b){var e=getOffsetRect(VS.jQuery("#"+VS.Player._containerId).get(0)),h=VS.jQuery("#"+VS.Player._containerId).width(),g=VS.jQuery("#"+VS.Player._containerId).height(),b=getOffsetRect(b),j=b.right-b.left,l=b.top-b.bottom,m=0,k=0;a&&(m=a);d&&(k=d);switch(f){case "move-right":e.left- -h-100-k>=b.left&&(c=!0);break;case "move-left":e.left- -70- -k<=b.left- -j&&(c=!0);break;case "move-down":e.top- -g-m>=b.top&&(c=!0);break;case "move-up":e.top- -0-m<=b.top- -l&&
(c=!0);break;case "move-diagonal-left-down":if(e.left- -70- -k<=b.left- -j||e.top- -g-m>=b.top)c=!0;break;case "move-diagonal-left-up":if(e.left- -70- -k<=b.left- -j||e.top- -0-m<=b.top- -l)c=!0;break;case "move-diagonal-right-down":if(e.left- -h-100-k>=b.left||e.top- -g-m>=b.top)c=!0;break;case "move-diagonal-right-up":if(e.left- -h-100-k>=b.left||e.top- -0-m<=b.top- -l)c=!0;break;case "scroll-down":e.top- -g-m>=b.top&&(c=!0);break;case "scroll-up":e.top- -0-m<=b.top- -l&&(c=!0);break;case "scroll-right":e.left-
-h-100-k>=b.left&&(c=!0);break;case "scroll-left":e.left- -70- -k<=b.left- -j&&(c=!0)}}return c}function getOffsetRect(b){return b.getBoundingClientRect()};
