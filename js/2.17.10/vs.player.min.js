/*
 VideoStir Player JavaScript library.
 @author Alexey Bass (@alexey_bass)
 @copyright VideoStir Ltd., http://videostir.com
*/
var videoPosition=null;VS.jQuery(document).ready(function(){VS.Player.init()});
VS.Player={Version:"2.17.10 - not sending time on site  change label view",VersionDate:"16-08-15",_containerId:"videostir-player",_containerInnerId:"videostir-player-inner",_preloadContainerId:"videostir-player-preload",_playerUrl:"http://8b249279a23ebe6382fe-bdbb90f389a017a4d0321ddd645160f1.r73.cf1.rackcdn.com/swf/150422/vs.player.swf",_mobileNavigatorRegexp:/webOS|iPhone|iPad|iPod|BlackBerry|Android/i,_mozilaRegExp:/Firefox/,_pause:!1,_parallel:"false",_quiet:!1,_playbackPosition:"",_debug:!1,_frameToFreeze:5,
_secureStats:!1,_outOfFocusFlag:!0,_replay:0,_sendedReplay:0,_labelShowArr:!1,_buttonShowArr:!1,_showButtonEffect:!1,_buttonEffectRepeat:1,_buttonRemove:!1,_emailShowArr:!1,_showEmailEffect:!1,_emailEffectRepeat:1,_removeLabel:!1,_css:!1,_styleUrl:"https://c391671.ssl.cf1.rackcdn.com/embed/1/vsembed.css",init:function(){},loadStyle:function(d){var f=document.getElementsByTagName("head")[0],a=document.createElement("link");a.href=d;a.type="text/css";a.media="screen";a.rel="stylesheet";f.appendChild(a)},
parseLegacyVideo:function(d){if(-1!==d.indexOf("://videostir.com/")){var f=d.match(/\/go\/video\/([a-z0-9]{32})/);return f&&2===f.length?f[1]:d}return d},checkFocusOnPage:function(){!document.hasFocus()&&(!0!=VS.Player._pause&&VS.Player._outOfFocusFlag)&&(VS.Player.loging(" out of foucus.."),VS.Player.Api.outOfFocus(),VS.Player._pause=!0);setTimeout(VS.Player.checkFocusOnPage,100)},sendTimeonSite:function(){},show:function(d,f,a,b,e){VS.Player.loadStyle(VS.Player._styleUrl);e=e||{};e.loged&&(VS.Player._debug=
!0);VS.Player.loging("Js Player version is "+VS.Player.Version+" version date:"+VS.Player.VersionDate);VS.Player.loging("Stats level="+VS.Stats._level);!0!=VS.Player._parallel&&VS.Player.isExists()&&VS.Player.remove();VS.jQuery(document).unbind("atFrame.vs-player");VS.Player._containerId+=b.substr(0,3);VS.Player._containerInnerId+=b.substr(0,4);VS.Player._preloadContainerId+=b.substr(0,5);if(!VS.Player._mobileNavigatorRegexp.test(navigator.userAgent)||e.youtube){var b=VS.Player.parseLegacyVideo(b),
c=b.lastIndexOf("/"),h=b.substring(c+1);VS.Stats.setHash(b);VS.Player.sendTimeonSite();var g=new VS.Player.Cookie(b),j=g.getViewsCount();if(e["fake-show-every"]&&Math.floor(Math.random()*e["fake-show-every"]+1)===parseInt(e["fake-show-every"]))VS.Stats.trigger("jsFakeShow"),VS.Player._fakeShow=!0,g=new VS.Player.Cookie(b),g.addViewsCount();else{e["run-on-out-of-focus"]&&(VS.Player._outOfFocusFlag=!1);VS.Player.checkFocusOnPage();if(e["disable-player-threshold"]){if(j>=e["disable-player-threshold"])return;
delete e["disable-player-threshold"]}c=VS.jQuery.extend({},e);e.videostir_views=j;delete c.videostir_views;var l=VS.Player.makeCss(d,f,a),m=VS.Player.makePlayerParams(b,e),b=window.location.href;Math.round(1);Math.round(4);VS.Stats.trigger("jsShow",VS.jQuery.extend({},{position:d,width:f,height:a},c));VS.Stats.trigger("embedOn",b);!0==VS.Player._quiet&&VS.Stats.trigger("silent","");VS.jQuery(document).ready(function(){videoPosition?videoPosition.append('<div id="'+VS.Player._containerId+'"></div>'):
VS.jQuery("body").append('<div id="'+VS.Player._containerId+'"></div>');var b=VS.jQuery("#"+VS.Player._containerId);b.css(l);var c="",j;for(j in l)c=c+(j+": "+l[j]+"; ");if(VS.jQuery.browser.msie){VS.swfobject.createCSS("#"+VS.Player._containerId,c);document.getElementById(VS.Player._containerId).setAttribute("style",c)}b.append('<div id="'+VS.Player._containerInnerId+'"></div>');if(e.youtube&&VS.Player._mobileNavigatorRegexp.test(navigator.userAgent)){VS.Player.showYoutube(f,a,e.youtube);delete e.youtube}else{VS.swfobject.embedSWF(VS.Player.getPlayerUrl(VS.Player.isSecure()),
VS.Player._containerInnerId,f,a,"9.0.0","",m.flashvars,m.params,m.attributes);VS.Player.addLabel(e,b);VS.Player.addButton(e,b,d);VS.Player.addEmail(e,b,d,h);g.addViewsCount()}})}}},addLabel:function(d,f){if(void 0!==d.label){var a=d.label;if(void 0!==a.name||void 0!==a.title){var b={name:"",title:"","font-family":"Tahoma","font-size":11,"font-color":"white","bg-color":"black","bg-opacity":0.8,"start-sec":3,"remove-sec":10},e="";void 0!==a.name&&void 0!==a.title&&(e="<br>");void 0===a.title&&(a.title=
"");void 0===a.name&&(a.name="");for(key in a)switch(key){case "title":case "font-family":b["font-family"]=a["font-family"];break;case "font-size":b["font-size"]=parseInt(a["font-size"]);break;case "font-color":b["font-color"]=a["font-color"];break;case "bg-color":b["bg-color"]=a["bg-color"];break;case "bg-opacity":b["bg-opacity"]=parseFloat(a["bg-opacity"]);break;case "start-sec":b["start-sec"]=a["start-sec"];break;case "remove-sec":b["remove-sec"]=a["remove-sec"]}var c;c='<div id="player-title" class="video-title" style="text-align:center;'+
("font-family: "+b["font-family"]+";");c+="font-size:"+b["font-size"]+"pt;";c+="color:"+b["font-color"]+";";c+="background-color:"+b["bg-color"]+"; ";c+="opacity:"+b["bg-opacity"]+";";c=c+'margin-top: 5px; margin-bottom: 5px; padding:1%;position: fixed; z-index:1000000; left:0px;top:0px; box-shadow: none;"><strong>'+(a.name+e+a.title);f.after(c+"</strong></div>");a=document.getElementById("player-title");window.getComputedStyle(a,null).getPropertyValue("width");a.style.top="auto";a.style.left="auto";
a.style.right="auto";a.style.bottom="auto";e=VS.Player.setupButtonPosition(a,"center");a.style.top=e.top;a.style.left=e.left;a.style.right=e.right;a.style.bottom=e.bottom;VS.jQuery("#player-title").hide();VS.Player._labelShowArr={};VS.Player._labelShowArr.start=parseInt(20*b["start-sec"]);VS.Player._labelShowArr.end=parseInt(20*b["remove-sec"]);VS.Player._removeLabel=5}}},setupButtonPosition:function(d,f){var a={},b=VS.Player._css;console.log(b);a.top=b.top;a.left=b.left;a.right=b.right;a.bottom=
b.bottom;var e=d.style,c=parseInt(VS.jQuery("#"+VS.Player._containerId).width()),h=parseInt(VS.jQuery("#"+VS.Player._containerId).height());console.log("----");console.log(a);var g=window.getComputedStyle(d,null).getPropertyValue("width"),g=g.split("px")[0];console.log("buttonPos:"+f+"contWidth:"+c+"ptitlewidth:"+g);VS.jQuery.each(a,function(b,a){if("auto"!=a){if("left"===b||"right"===b)switch(f){case "center":a=VS.Player.shiftPosition(a,parseInt(c/2)-parseInt(0.5*g));break;case "left":a="right"===
b?VS.Player.shiftPosition(a,c-parseInt(0.25*g)):VS.Player.shiftPosition(a,parseInt(-0.25*g));break;case "right":a="left"===b?VS.Player.shiftPosition(a,c-parseInt(0.75*g)):VS.Player.shiftPosition(a,parseInt(-0.75*g))}"bottom"===b&&(a=VS.Player.shiftPosition(a,parseInt(0.2*h)));"top"===b&&(a=VS.Player.shiftPosition(a,parseInt(0.6*h)))}e[b]=a});return e},shiftPosition:function(d,f){var a=d.split("px");return parseInt(a[0])+parseInt(f)+"px"},addButton:function(d,f){if(void 0!==d.button){var a=d.button;
a.text=a.name;if(void 0!==a.text){var b={text:"","font-family":"Tahoma","font-size":11,"font-color":"white","bg-color":"black","start-sec":3,"where-to-open":"new","remove-sec":-1,position:"center","button-type":"rectangle","show-effect":-1,"effect-repeat":1,"remove-button":10};for(key in a)switch(key){case "font-family":b["font-family"]=a["font-family"];break;case "font-size":b["font-size"]=parseInt(a["font-size"]);break;case "font-color":b["font-color"]=a["font-color"];break;case "bg-color":b["bg-color"]=
a["bg-color"];break;case "start-sec":b["start-sec"]=a["start-sec"];break;case "remove-sec":b["remove-sec"]=a["remove-sec"];break;case "callback-url":b["callback-url"]=a["callback-url"];break;case "position":b.position=a.position;break;case "button-type":b["button-type"]=a["button-type"];break;case "callback-function":b["callback-function"]=a["callback-function"];break;case "show-effect":b["show-effect"]=a["show-effect"];break;case "effect-repeat":b["effect-repeat"]=a["effect-repeat"];break;case "remove-button":b["remove-button"]=
a["remove-button"]}var e="border-radius: 0px;";if(void 0!==b["button-type"])switch(b["button-type"]){case "rectangle":e="border-radius: 0px;";break;case "oval":e="border-radius: 8px;"}void 0===a.text&&(a.text="");var c;c='<button id="player-button" class="video-button" style="text-align:center;'+("font-family: "+b["font-family"]+";");c+="font-size:"+b["font-size"]+"pt;";c+="color:"+b["font-color"]+";";c=c+e+("background-color:"+b["bg-color"]+"; ");c=c+'margin-top: 5px; margin-bottom: 5px; padding:1%;position: fixed; z-index:1000000; left:0px;top:0px; box-shadow: none;"><strong>'+
a.text;c+="</strong></button>";0<VS.jQuery("#player-button").length&&VS.jQuery("#player-button").remove();f.after(c);a=document.getElementById("player-button");window.getComputedStyle(a,null).getPropertyValue("width");a.style.top="auto";a.style.left="auto";a.style.right="auto";a.style.bottom="auto";e=VS.Player.setupButtonPosition(a,b.position);a.style.top=e.top;a.style.left=e.left;a.style.right=e.right;a.style.bottom=e.bottom;a=VS.jQuery("#player-button");VS.Player._showButtonEffect=parseInt(20*b["show-effect"]);
VS.Player._buttonEffectRepeat=b["effect-repeat"];VS.Player._removeButton=parseInt(b["remove-button"]);if(void 0!==b["callback-url"])VS.Player.goToUrl(b["callback-url"],b["where-to-open"]);else if(void 0!==b["callback-function"]){var h=new Function(b["callback-function"]);VS.jQuery("#player-button").on("click",function(b){VS.jQuery(document).trigger("gotoLink");b.preventDefault();h()})}a.hide();VS.Player._buttonShowArr={};VS.Player._buttonShowArr.start=parseInt(20*b["start-sec"]);VS.Player._buttonShowArr.end=
parseInt(20*b["remove-sec"])}}},addEmail:function(d,f,a,b){if(void 0!==d.email){d=d.email;d.text=d.name;var e={text:"Submit","font-family":"Tahoma","font-size":11,"font-color":"#3ab54b","bg-color":"#ffffff","start-sec":3,"where-to-open":"new","remove-sec":-1,position:-1<a.indexOf("left")?"right":"left","button-type":"rectangle","show-effect":-1,"effect-repeat":1,"remove-button":10,"display-type":"side"};for(key in d)switch(key){case "text":e.text=d.text;break;case "font-family":e["font-family"]=d["font-family"];
break;case "font-size":e["font-size"]=parseInt(d["font-size"]);break;case "font-color":e["font-color"]=d["font-color"];break;case "bg-color":e["bg-color"]=d["bg-color"];break;case "start-sec":e["start-sec"]=d["start-sec"];break;case "remove-sec":e["remove-sec"]=d["remove-sec"];break;case "position":e.position=d.position;break;case "button-type":e["button-type"]=d["button-type"];break;case "callback-function":e["callback-function"]=d["callback-function"];break;case "show-effect":e["show-effect"]=d["show-effect"];
break;case "effect-repeat":e["effect-repeat"]=d["effect-repeat"];break;case "remove-button":e["remove-button"]=d["remove-button"];break;case "display-type":e["display-type"]=d["display-type"]}void 0===d.text&&(d.text="");a='<form id="email-list" class="email-list" method="post" style="'+("font-family: "+e["font-family"]+";");a+="background-color: "+e["font-color"]+";";a+="font-size:"+e["font-size"]+"pt;";a+='margin-top: 5px; margin-bottom: 5px; padding:1%; text-align:center;position: fixed; z-index:1000000; left:0px;top:0px; box-shadow: none;">';
"side"==e["display-type"]?(a=a+'<div class="vs-form-group"><input type="text" id="email" name="email" placeholder="Enter your email" class="vs-form-control" style="padding-top:1px; padding-bottom:0px; margin-right:10px" /></div><button id="example-button" class="vs-example-button" style="'+("color:"+e["font-color"]+";"),a+="background-color:"+e["bg-color"]+";",a+='">'+e.text+"</button>",a+='<button id="vs-close-email-button" class="vs-close-email-button" >x</button>'):"full"==e["display-type"]&&(a=
a+'<div class="vs-form-group" style="width:80%;"><input type="text" id="email" name="email" placeholder="Enter your email" class="vs-form-control" style="width: 94%; padding-top:1px; padding-bottom:0px; margin-right:0px; padding-right:0px; margin-bottom:10px;" /></div><button class="vs-example-button" style="padding:5px; width:80%;'+("color:"+e["font-color"]+";"),a+="background-color:"+e["bg-color"]+";",a+='">'+e.text+"</button>",a+='<button id="vs-close-email-button" class="vs-close-email-button" >x</button>');
a+="</form>";0<VS.jQuery("#email-list").length&&VS.jQuery("#email-list").remove();f.after(a);f=document.getElementById("email-list");window.getComputedStyle(f,null).getPropertyValue("width");f.style.top="auto";f.style.left="auto";f.style.right="auto";f.style.bottom="auto";a=VS.Player.setupButtonPosition(f,e.position);f.style.top=a.top;f.style.left=a.left;f.style.right=a.right;f.style.bottom=a.bottom;VS.jQuery(window).resize(function(){var b=document.getElementById("email-list"),a=VS.Player.setupButtonPosition(b,
e.position);b.style.top=a.top;b.style.left=a.left;b.style.right=a.right;b.style.bottom=a.bottom});f=VS.jQuery("#email-list");VS.Player._showEmailEffect=parseInt(20*e["show-effect"]);VS.Player._emailEffectRepeat=e["effect-repeat"];VS.Player._removeButton=parseInt(e["remove-button"]);VS.jQuery("#vs-close-email-button").on("click",function(){VS.jQuery("#email-list").hide(300)});if(void 0!==e["callback-function"]){var c=new Function(e["callback-function"]);VS.jQuery("#email-list").on("submit",function(b){VS.jQuery(document).trigger("gotoLink");
b.preventDefault();c()})}else VS.jQuery("#email-list").on("submit",function(a){VS.jQuery(document).trigger("gotoLink");a.preventDefault();var e={};VS.jQuery.each(VS.jQuery(this).serializeArray(),function(b,a){e[a.name]=a.value});if(/^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i.test(e.email)){VS.jQuery("input[name=email]").removeClass("invalid-email");VS.Player.submitEmail(e.email,b);VS.jQuery("#email-list").hide(100)}else VS.jQuery("input[name=email]").hasClass("invalid-email")||VS.jQuery("input[name=email]").addClass("invalid-email")});
f.hide();VS.Player._emailShowArr={};VS.Player._emailShowArr.start=parseInt(20*e["start-sec"]);VS.Player._emailShowArr.end=parseInt(20*e["remove-sec"])}},emailPosition:function(d,f){var a=document.getElementById("email-list"),b=window.getComputedStyle(a,null).getPropertyValue("width");"side"==d?a.style.top=parseInt(VS.jQuery("#"+VS.Player._containerId).offset().top)+"px":"full"==d&&(a.style.top=parseInt(VS.jQuery("#"+VS.Player._containerId).offset().top)+"px");switch(f){case "center":a.style.left=
parseInt(VS.jQuery("#"+VS.Player._containerId).offset().left)+(parseInt(VS.jQuery("#"+VS.Player._containerId).width())-parseInt(b))/2+"px";break;case "left":a.style.left=parseInt(VS.jQuery("#"+VS.Player._containerId).offset().left)-parseInt(b)+"px";break;case "right":a.style.left=parseInt(VS.jQuery("#"+VS.Player._containerId).offset().left)+parseInt(VS.jQuery("#"+VS.Player._containerId).width())-20+"px"}},goToUrl:function(d,f){d.length&&0!==d.indexOf("http")&&(d="http://"+d);VS.jQuery("#player-button").on("click",
function(a){a.preventDefault();"new"==f?window.open(d,"_blank"):window.location.href=d})},submitEmail:function(d,f){VS.jQuery.ajax({type:"post",async:!0,url:"http://videostir.com/clips-stock/save-email/?XDEBUG_SESSION_START=videostir",dataType:"json",data:{hash:f,email:d,page_url:window.location.href},success:function(){},error:function(){console.log("ERROR: Something went wrong with video.")}})},showYoutube:function(d,f,a){var b=VS.jQuery("#"+VS.Player._containerId).prepend('<div class="toolbar" style="text-align: right;"><button onclick="VS.Player.remove();" style="font-size: 12pt;">[&times;] Close</button></div>');
b.height(b.height()+b.find("div.toolbar").height());VS.jQuery("#"+VS.Player._containerInnerId).append('<iframe width="'+d+'" height="'+f+'" src="http'+(VS.Player.isSecure()?"s":"")+"://www.youtube.com/embed/"+a+'?rel=0" frameborder="0" allowfullscreen></iframe>')},createPreloadContainer:function(){0===VS.Player._preloadContainerCounter&&VS.jQuery("body").append('<div id="'+VS.Player._preloadContainerId+'"></div>')},removePreloadContainer:function(){var d=VS.jQuery("#"+VS.Player._preloadContainerId);
if(d.length){for(var f=d.find("> *"),a=0,b=f.length;a<b;a++)VS.swfobject.removeSWF(VS.jQuery(f[a]).attr("id"));d.remove()}},_preloadContainerCounter:0,addPreloadingItemContainer:function(){VS.Player._preloadContainerCounter++;var d=VS.Player._preloadContainerId+"-item-"+VS.Player._preloadContainerCounter;VS.jQuery("#"+VS.Player._preloadContainerId).append('<div id="'+d+'"></div>');return d},on:function(d,f){return{show:function(){var a=arguments;VS.Player.createPreloadContainer();VS.swfobject.embedSWF(VS.Player.getPlayerUrl(VS.Player.isSecure()),
VS.Player.addPreloadingItemContainer(),1,1,"9.0.0","",{videoHash:VS.Player.parseLegacyVideo(a[3]),https:VS.Player.isSecure()?1:0,autop:!1},{menu:"false"},{menu:"false"});VS.jQuery(d).on(f,function(){VS.Player.removePreloadContainer();VS.Player.show.apply(VS.Player,a)})}}},preload:function(d){VS.jQuery(document).ready(function(){VS.Stats.trigger("jsPreload");VS.Player.createPreloadContainer();VS.swfobject.embedSWF(VS.Player.getPlayerUrl(VS.Player.isSecure()),VS.Player.addPreloadingItemContainer(),
1,1,"9.0.0","",{videoHash:d,https:VS.Player.isSecure()?1:0,autop:!1},{menu:"false"},{menu:"false"})})},remove:function(){VS.swfobject.removeSWF(VS.Player._containerInnerId);VS.jQuery("#"+VS.Player._containerId).remove()},isExists:function(){return VS.jQuery("#"+VS.Player._containerId).length?!0:!1},makeCss:function(d,f,a){var b={left:"auto",top:"auto",right:"auto",bottom:"auto",position:"fixed","z-index":"1000000",margin:"0",padding:"0",width:f+"px",height:a+"px",opacity:"1.0"};VS.Player._mozilaRegExp.test(navigator.userAgent)&&
(b.opacity="0.95");if("string"===typeof d)switch(d){case "top-left":b.top="0px";b.left="0px";break;case "top-right":b.top="0px";b.right="0px";break;case "bottom-left":b.bottom="0px";b.left="0px";break;case "bottom-right":b.bottom="0px";b.right="0px";break;case "center":var d=VS.jQuery(window),e="number"===typeof window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:d.height();b.left=(d.width()-f)/2+d.scrollLeft()+
"px";b.top=(e-a)/2+d.scrollTop()+"px";b.right="auto";b.bottom="auto"}else if("object"===typeof d){for(e in d)switch(e){case "left":case "top":case "right":case "bottom":d[e]=String(d[e]);!isNaN(parseFloat(d[e]))&&isFinite(d[e])&&(d[e]+="px");break;case "object":obj=VS.jQuery('[name="'+d[e]+'"]');"vsdiv"==d[e]&&(videoPosition=obj,b.position="static");objPos=VS.jQuery(obj).get(0).getBoundingClientRect();b.top=Math.round(objPos.top);b.left=Math.round(objPos.left);break;case "offsetTop":b.top-=-d[e];
break;case "offsetLeft":b.left-=-d[e]}VS.jQuery.extend(b,d)}else b.left="0px",b.top="0px";VS.jQuery.browser.msie&&"BackCompat"==document.compatMode&&(b.top.length&&"auto"!=b.top?(b.position="absolute !important",b.top='expression(((document.documentElement.scrollTop || document.body.scrollTop) + (!this.offsetHeight && 0)) + "px")'):b.bottom.length&&"auto"!=b.bottom&&(b.position="absolute !important",b.top='expression(((document.documentElement.scrollTop || document.body.scrollTop) + (document.documentElement.clientHeight || document.body.clientHeight) - this.offsetHeight) + "px")',
b.bottom="auto"));return VS.Player._css=b},arPush:function(d,f){var a=[];a[0]=f;if(void 0===d.length)a[1]=d;else{var b;for(b=0;b<d.length;b++)a[b+1]=d[b]}return a},makePlayerParams:function(d,f){var a={flashvars:{},params:{},attributes:{}};a.flashvars.videoHash=encodeURIComponent(d);a.flashvars.https=VS.Player.isSecure()?1:0;a.flashvars.videostir_referer=encodeURIComponent(VS.Player.getReferrer());a.flashvars.vspv=VS.Player.Version;a.params.wmode="transparent";a.params.quality="high";a.params.allowScriptAccess=
"always";a.params.menu=!1;a.attributes.wmode="transparent";a.attributes.quality="high";a.attributes.allowScriptAccess="always";a.attributes.menu=!1;a.flashvars.linkTo=!0;for(var b in f)switch(b){case "auto-play":if((!f[b]||"false"==f[b])&&!f.quiet){var e=f.freeze;void 0===e?f.freeze=[this._frameToFreeze]:(e=e instanceof Array?e:e.toString().split(","),e=[5].concat(e),f.freeze=e);f["auto-play"]=!0;f["auto-play-limit"]=1E4}}for(var c in f)switch(c){case "auto-play":a.flashvars.autop=f[c];break;case "auto-play-limit":a.flashvars.maxPlayedTimes=
f[c];break;case "playback-delay":a.flashvars.delayS=f[c];break;case "on-finish":switch(f[c]){case "remove":a.flashvars.afterDone="close";break;case "play-button":a.flashvars.afterDone="bigPlayButton";break;case "blank":a.flashvars.afterDone="empty"}break;case "rotation":a.flashvars.rotationG=f[c];break;case "zoom":a.flashvars.zoomPerc=f[c]/100;break;case "offset-x":a.flashvars.offsetOnX=f[c];break;case "offset-y":a.flashvars.offsetOnY=f[c];break;case "on-click-open-url":a.flashvars.linkTo=!0;a.flashvars.goButtonUrl=
encodeURIComponent(0===f[c].indexOf("http")?f[c]:"http://"+f[c]);break;case "on-click-open-url-target":switch(f[c]){case "blank":a.flashvars.goButtonLogic="newWindow";break;case "self":a.flashvars.goButtonLogic="sameWindow"}break;case "on-click-open-url-button-position":a.flashvars.goButtonFrame=1;switch(f[c]){case "left":case "center":case "right":a.flashvars.goButtonLocation=f[c]}break;case "on-click-event":a.flashvars.linkTo=!0;break;case "clip-fps":a.flashvars.clipFps=f[c];break;case "playback-freeze-frame":a.flashvars.freeze=
f[c];break;case "brand-id":a.flashvars.brandId=f[c];break;case "brand-onclick-open-url":a.flashvars.brandOnclickOpenUrl=encodeURIComponent(0===f[c].indexOf("http")?f[c]:"http://"+f[c]);break;case "quiet":VS.Player._quiet=!0;a.flashvars.quiet=f[c];break;case "movement":b=[];if(f[c].scenario){for(e=0;e<f[c].scenario.length;e++)b.push(f[c].scenario[e][0]);b.length&&(VS.jQuery(document).bind("atFrame.vs-player",{scenario:f[c].scenario},function(b,a){for(var e=0;e<b.data.scenario.length;e++)if(parseInt(a)===
parseInt(b.data.scenario[e][0]))if("function"===typeof b.data.scenario[e][1])b.data.scenario[e][1].call(this,VS.jQuery("#"+VS.Player._containerId));else{var c=objPos=VS.jQuery("#"+VS.Player._containerId).get(0).getBoundingClientRect();"scroll-up"!=b.data.scenario[e][1]&&("scroll-down"!=b.data.scenario[e][1]&&"scroll-left"!=b.data.scenario[e][1]&&"scroll-right"!=b.data.scenario[e][1])&&(VS.jQuery("#"+VS.Player._containerId).css("top",c.top),VS.jQuery("#"+VS.Player._containerId).css("left",c.left));
var c="=5",d=50,f=1E3,h=null,r=null,s=null,p=b.data.scenario[e][1];e<b.data.scenario.length-1&&(f=b.data.scenario[e+1][0]-5);var q=1,c="=2",d=20;VS.Player._mozilaRegExp.test(navigator.userAgent)&&(d=40,q=1);switch(b.data.scenario[e][2]){case "very-fast":c="=10";break;case "fast":c="=4";break;case "medium":c="=2";break;case "slow":c="=1";q=10;break;case "very-slow":c="=1";q=25;break;default:c="=5"}b.data.scenario[e][3]&&(h=document.getElementById(b.data.scenario[e][3]),b.data.scenario[e][4]&&(r=b.data.scenario[e][4]),
b.data.scenario[e][5]&&(s=b.data.scenario[e][5]));var n="=0",o="=0";switch(p){case "scroll-down":n="+"+c;break;case "scroll-up":n="-"+c;break;case "scroll-left":o="-"+c;break;case "scroll-right":o="+"+c;break;case "move-left":o="-"+c;break;case "move-right":o="+"+c;break;case "move-up":n="-"+c;break;case "move-down":n="+"+c;break;case "move-diagonal-left-up":n="-"+c;o="-"+c;break;case "move-diagonal-left-down":n="+"+c;o="-"+c;break;case "move-diagonal-right-up":n="-"+c;o="+"+c;break;case "move-diagonal-right-down":n=
"+"+c,o="+"+c}var u=setInterval(function(){VS.Player._pause==true||VS.Player.Api.getCurrentFrame()>f||check_position(h,p,null,r,s)?clearInterval(u):p!="scroll-down"&&p!="scroll-up"&&p!="scroll-left"&&p!="scroll-right"?VS.jQuery("#"+VS.Player._containerId).animate({top:n,left:o},q):VS.jQuery("html,body").animate({scrollTop:n,scrollLeft:o},q)},d)}}),a.flashvars.framesToReport=b)}break;case "url-jumps":var h='<iframe id="videostir-jumps-container" frameborder="0"';(!f[c].fullscreen||!0===f[c].fullscreen)&&
VS.jQuery("html, body").css({width:"100%",height:"100%",margin:0,padding:0,overflow:"hidden"});f[c].css&&(h+=' style="'+f[c].css+'"');b=[];if(f[c].scenario){"start"===f[c].scenario[0][0]&&(h+=' src="'+f[c].scenario[0][1]+'"',f[c].scenario=f[c].scenario.slice(1));for(e=0;e<f[c].scenario.length;e++)"end"===f[c].scenario[e][0]?VS.jQuery(document).bind("playbackPosition.vs-player",{scenario:f[c].scenario[e]},function(b,a){if(parseInt(a)===100)b.data.scenario[1]==="close"?window.close():window.location.href=
b.data.scenario[1]}):(b.push(f[c].scenario[e][0]),VS.jQuery(document).bind("atFrame.vs-player",{scenario:f[c].scenario[e]},function(b,a){parseInt(a)===parseInt(b.data.scenario[0])&&VS.jQuery("#videostir-jumps-container").attr("src",b.data.scenario[1])}))}h+="></iframe>";VS.jQuery("body").append(h);a.flashvars.framesToReport=b;break;case "framesToReportAll":a.flashvars.framesToReportAll=f[c];1===f[c]&&VS.jQuery(document).bind("atFrame.vs-player",function(){});break;default:a.flashvars[c]=f[c]}a.flashvars.freeze&&
(a.flashvars.autop=!0);VS.jQuery(document).bind("bigBtnPlay.vs-player",{},function(){VS.Player._quiet=false;VS.jQuery(document).trigger("bigPlay")});VS.jQuery(document).bind("btnPlay.vs-player",{},function(){VS.Player._quiet=false});VS.jQuery(document).bind("pause.vs-player",{},function(){VS.Player._pause=true});VS.jQuery(document).bind("play.vs-player",{},function(){VS.Player._pause=false});VS.jQuery(document).bind("mute.vs-player",{},function(){VS.Player._quiet=true});VS.jQuery(document).bind("unmute.vs-player",
{},function(){VS.Player._quiet=false});VS.jQuery(document).bind("remove.vs-player",{},function(){VS.jQuery(document).unbind("atFrame.vs-player")});VS.jQuery(document).bind("close.vs-player",{},function(){var b=VS.jQuery("#player-title"),a=VS.jQuery("#player-button"),e=VS.jQuery("#email-list");setTimeout(function(){a.remove();e.remove()},parseInt(VS.Player._removeButton)*2E3);setTimeout(function(){b.hide()},parseInt(VS.Player._removeLabel)*2E3)});VS.jQuery(document).bind("playbackPosition.vs-player",
{},function(b,a){VS.Player._playbackPosition=a;if(a>95){var e=VS.jQuery("#player-title");VS.jQuery("html,body").stop(true,false);VS.Player._pause=true;VS.jQuery(document).unbind("atFrame.vs-player");VS.Player._removeLabel&&setTimeout(function(){e.hide()},parseInt(VS.Player._removeLabel)*1E3)}});VS.jQuery(document).bind("atFrame.vs-player",function(b,a){var e=VS.jQuery("#player-title"),c=VS.jQuery("#player-button"),d=VS.jQuery("#email-list");parseInt(a)===parseInt(VS.Player._labelShowArr.start)&&e.show();
parseInt(a)===parseInt(VS.Player._labelShowArr.end)&&e.hide();parseInt(a)===parseInt(VS.Player._buttonShowArr.start)&&c.show();parseInt(a)===parseInt(VS.Player._buttonShowArr.end)&&c.hide();parseInt(a)===parseInt(VS.Player._emailShowArr.start)&&d.show();parseInt(a)===parseInt(VS.Player._emailShowArr.end)&&d.hide();if(parseInt(a)===parseInt(VS.Player._showButtonEffect))var f=0,h=setInterval(function(){f++;f>VS.Player._buttonEffectRepeat&&clearInterval(h);c.addClass("button-transition");setTimeout(function(){c.removeClass("button-transition")},
400)},1E3)});return a},getReferrer:function(){return window.location.href},getPlayerUrl:function(d){return d?"https"+VS.Player._playerUrl.replace(/\.r[0-9]{2}\./,".ssl.").substr(4):VS.Player._playerUrl},isSecure:function(){return"https:"===document.location.protocol?!0:!1},loging:function(d){VS.Player._debug&&console.log(d)}};
VS.Player.Cookie=function(d){var f,a,b,e,c,h,g=function(b){var a=[0,0];if(-1!==b.indexOf("|")){var b=b.split("|"),e;for(e in b)a[e]=parseInt(b[e])}else a[0]=parseInt(b);return a};this.getViewsCount=function(){return e[0]};this.getLastViewed=function(){return e[1]};this.getFirstLastViewed=function(){return c[1]};this.addViewsCount=function(b){b=e[0]+(b||1)+"|"+Math.round((new Date).getTime()/1E3);VS.Player._fakeShow||(VS.jQuery.cookie(f,b,{expires:365}),e=b);if(1==e[0]||0==e[0])show=VS.Player._fakeShow?
1:2,session_id=VS.Stats._sessionId,b=show+"|"+Math.round((new Date).getTime()/1E3)+"|"+session_id,VS.jQuery.cookie(a,b,{expires:365}),c=b};this.addConversUrls=function(){cur_url=window.location.href;var a="";if(0==h[0])a=cur_url;else{for(i=0;i<h.length;i++)a+=h[i]+"|";a+=cur_url}VS.jQuery.cookie(b,a,{expires:365});h=g(a)};this.checkShow=function(){return 1==c[0]?!1:!0};this.check_vsf=function(){return 0==c[0]?!1:!0};this.check_vsc=function(){result=!1;cur_url=window.location.href;if(0!=h[0])for(i=
0;i<h.length;i++)h[i]===cur_url&&(result=!0);return result};this.getFirstSessionId=function(){return c[2]};f="vsv"+d;a="vsf"+d;b="vsc"+d;e=(e=VS.jQuery.cookie(f))?g(e):[0,0];c=(c=VS.jQuery.cookie(a))?g(c):[0,0,0,0,0];if(h=VS.jQuery.cookie(b)){var d=h,j=[0];if(-1!==d.indexOf("|")){var d=d.split("|"),l;for(l in d)j[l]=d[l]}else j[0]=d;h=j}else h=[0]};
VS.Player.Api={play:function(d){d=0<=d?d:VS.Player.Api.getCurrentFrame();try{return VS.swfobject.getObjectById(VS.Player._containerInnerId).play(d),!0}catch(f){}return!1},pause:function(){try{return VS.swfobject.getObjectById(VS.Player._containerInnerId).pause(),!0}catch(d){}return!1},getCurrentFrame:function(){try{return VS.swfobject.getObjectById(VS.Player._containerInnerId).getCurrentFrame()}catch(d){}return!1},outOfFocus:function(){try{return VS.swfobject.getObjectById(VS.Player._containerInnerId).outOfFocus(),
!0}catch(d){}return!1}};
(function(d,f,a){var b={_level:0,_statsUrl:VS.Player.isSecure()?"//videostir.com/stats/analytics/":"//stats.videostir.net/analytics/",_statsUrl1:"//views.videostir.net/get-stats",_sendTimeout:200,_videoHash:"",_sessionId:0,_sequenceNumber:0,SEND_DISABLED:0,SEND_CONSOLE:1,SEND_SERVER:2,SEND_STATS:2,_stack:[],_playAtBegin:!1,init:function(){b._sessionId=b.generateSessionId();b.bindListenners();d(a).ready(function(){b.trigger("jsDomReady")})},enable:function(a){b._level===b.SEND_CONSOLE&&(a===b.SEND_SERVER?
a=b._level+b.SEND_SERVER:a===b.SEND_DISABLED&&(a=b.SEND_CONSOLE));b._level=parseInt(a);b._conversionLogicAttached||b.attachConversionLogic();b._level&b.SEND_SERVER&&b.sendPendingEventsFromStack()},setHash:function(a){b._videoHash=b.findHash(a)},_conversionLogicAttached:!1,sendPendingEventsFromStack:function(){var a,c,d;for(a in b._stack)c=b._stack[a],d=c[0],0===d&&(c[0]=1,b.sendEvent(c[1],c[2],c[3],c[4],c[5]))},attachConversionLogic:function(){b._conversionLogicAttached=!0;d(".vs-stats-conversion-onclick").on("click",
function(a){b.triggerConversion(a)})},findHash:function(b){return(b=b.match(/(as-[a-z0-9]{32}|[a-z0-9]{32})/))&&2===b.length?b[1]:!1},generateSessionId:function(){return parseInt(Math.floor(428*Math.random()+11)+""+((new Date).getTime()+"").substr(6))},bindListenners:function(){d(a).bind("jsShow jsDomReady jsUnload jsFakeShow jsPreload initFlash startLoading finishLoading loadError pause play mute unmute remove close playbackPosition gotoLink gotoHome onclick conversion unique empty silent bigPlay embedOn timeOnSite freeze freezeOnStart focusOut".split(" ").join(".vs-player ")+
".vs-player",function(a,c){b.log(a.type,c)});d(f).bind("beforeunload",function(){b.log("jsUnload")})},trigger:function(b,c){(c=c||!1)?d(a).trigger(b+".vs-player",[c]):d(a).trigger(b+".vs-player")},_conversionElement:null,triggerConversion:function(a){var c=d(a.currentTarget);b._conversionElement=c;c.is("a")&&a.preventDefault();a=a.currentTarget.nodeName;c.attr("vs-conversion-id")&&(a+=" conversion-id="+c.attr("vs-conversion-id"));b.trigger("conversion",a)},log:function(a,c,d){var d=d||b._level,g=
b._sequenceNumber++,j=(new Date).getTime()-VS._zeroTime,l=0;if(!b.isJunkEvent(a,j,c)){if(d&b.SEND_CONSOLE&&f.console){var m=b._stack.length?j-b._stack[b._stack.length-1][3]:0;m&&1E3<m&&(m/1E3).toFixed(1)}VS.Player._quiet&&"playbackPosition"==a&&(c+=":quiet");d&b.SEND_SERVER&&(b.sendEvent(b._videoHash,g,j,a,c),l=1);VS.Player._fakeShow&&b.sendEvent(b._videoHash,g,j,"jsFakeShow",c);d=new VS.Player.Cookie(b._videoHash);unique=views=d.getViewsCount();b._stack.push([l,b._videoHash,g,j,a,c,unique]);"playbackPosition"===
a&&"0"===c&&(d=new VS.Player.Cookie(b._videoHash),1===d.getViewsCount()&&b.trigger("unique"))}},isJunkEvent:function(a,c,d){var f=!1;if(!b._stack.length)return f;var j=b._stack[b._stack.length-1];"playbackPosition"===a?j[5]===d&&(f=!0):j[4]===a&&100>Math.abs(c-j[3])&&(f=!0);return f},sendEvent:function(a,c,h,g,j){if((!VS.Player.isSecure()||VS.Player._secureStats)&&""!=a){var l=new VS.Player.Cookie(a);firstSessionId=l.getFirstSessionId();unique=views=l.getViewsCount();if("pause"==g||"bigPlay"==g||
"play"==g||"mute"==g||"unmute"==g||"remove"==g||"gotoHome"==g||"gotoLink"==g)VS.Player._quiet?j="quiet":0;if(VS.Player._replay&&"play"!=g)"playbackPosition"==g&&100==j&&VS.Player._replay++;else{"close"==g&&(VS.Player._pause=!0);if(VS.Player._replay&&"play"===g){g="replay";if(VS.Player._sendedReplay==VS.Player._replay)return;j=VS.Player._replay;VS.Player._sendedReplay=j}"startLoading"==g&&(b._playAtBegin=!0);if(("play"!=g||b._playAtBegin)&&"unique"!=g){sessionId="conversion"==g?firstSessionId:b._sessionId;
"playbackPosition"==g&&100==j&&(VS.Player._replay++,VS.Player.loging("playbackPosition:100 replay:"+VS.Player._replay));VS.Player.loging("sendEvent:"+g+" data="+j);if(1==b.SEND_STATS||3==b.SEND_STATS)d.ajax({type:"get",url:b._statsUrl,data:{h:a,s:b._sessionId,n:c,t:h,e:g,d:j,u:unique},async:"jsUnload"===g?!1:!0,crossDomain:!0,cache:!1,dataType:"jsonp",jsonp:"vs",jsonpCallback:"_",processData:!0,timeout:b._sendTimeout,fail:function(){f.log&&VS.Player.loging("sendEvent ajax fail",arguments)},complete:function(){if(g===
"conversion"&&b._conversionElement&&b._conversionElement.is("a")){f.location=b._conversionElement.attr("href");b._conversionElement=null}}});2<=b.SEND_STATS&&d.ajax({type:"get",url:b._statsUrl1,data:{h:a,s:b._sessionId,n:c,t:h,e:g,d:j,u:unique},async:"jsUnload"===g?!1:!0,crossDomain:!0,cache:!1,dataType:"jsonp",jsonp:"vs",jsonpCallback:"_",processData:!0,timeout:b._sendTimeout,fail:function(){f.log&&VS.Player.loging("sendEvent ajax fail",arguments)},complete:function(){if(g==="conversion"&&b._conversionElement&&
b._conversionElement.is("a")){f.location=b._conversionElement.attr("href");b._conversionElement=null}}})}}}},markConversion_old:function(a){var c=new VS.Player.Cookie(a),d=Math.round(VS._zeroTime/1E3);0===c.getViewsCount()?(b.setHash(a),b.enable(b.SEND_SERVER),b.trigger("conversion",-1)):1===c.getViewsCount()&&108E3>d-c.getLastViewed()&&(b.setHash(a),b.enable(b.SEND_SERVER),b.trigger("conversion",1))},markConversion:function(a){var c=new VS.Player.Cookie(a),d=Math.round(VS._zeroTime/1E3);c.check_vsf()&&
(!c.check_vsc()&&!(2<c.getViewsCount()))&&(c.checkShow()?1800<d-c.getLastViewed()||(cur_url=f.location.href,b.setHash(a),b.enable(b.SEND_SERVER),b.trigger("conversion",cur_url),c.addConversUrls()):1<c.getViewsCount()||(b.setHash(a),b.enable(b.SEND_SERVER),b.trigger("conversion",-1),c.addConversUrls()))}};f.VS.Stats=b;b.init()})(VS.jQuery,window,document);
VS.Player.Playlist=function(d){function f(d,f){switch(d.type){case "finishLoading":"string"===typeof c[k-1].clip&&c[k-1].clip===b?VS.jQuery(document).trigger("next.vs-player-playlist"):e===a&&VS.jQuery(document).trigger("next.vs-player-playlist");break;case "playbackPosition":100===parseInt(f)&&(VS.jQuery(document).unbind("atFrame.vs-player"),VS.jQuery("html,body").stop(!0,!1),VS.jQuery(document).trigger("next.vs-player-playlist"))}}var a="trigger",b="preload",e=d.settings.strategy||"default",c,h=
d.clips,d=[],g;switch(e){case "show-one-never-seen":var j;for(g in h)if("object"===typeof h[g].clip&&(j=h[g].clip[3],j=new VS.Player.Cookie(j),0===j.getViewsCount())){d.push(h[g]);break}break;case "show-one-after-another":var l=0,m=0;j=h[0].clip[3];l=(new VS.Player.Cookie(j)).getViewsCount();for(g in h)"object"===typeof h[g].clip&&(j=h[g].clip[3],j=new VS.Player.Cookie(j),j.getViewsCount()<l&&(l=j.getViewsCount(),m=g));d.push(h[m]);break;case "random":d.push(h[Math.floor(Math.random()*h.length)]);
break;case "random-weight":l=[];m=j=0;for(g in h)j+=h[g].weight||0,l.push(j);j=Math.round(Math.random()*j);for(g in l)if(j<l[g]){m=g;break}d.push(h[m]);break;case a:for(g in h)(function(a){VS.jQuery("#"+h[a].target).bind(h[a].action+".videostir",function(b){-1!==["mouseenter","mouseleave","mousemove","mouseout","mouseover"].indexOf(b.type)&&VS.jQuery("#"+h[a].target).unbind(".videostir");VS.Player.show.apply(VS.Player,h[a].clip.slice(0))})})(g),d.push(h[g]);break;default:d=h}c=d;var k=0;"loop-forever"==
e&&(VS.Player._parallel=!0);if("parallel"==e){VS.Player._parallel=!0;var t=setInterval(function(){k>c.length-1&&clearInterval(t);k<c.length&&VS.Player.show.apply(VS.Player,c[k++].clip)},10)}else VS.jQuery(document).bind("next.vs-player-playlist",function(){if(k<c.length)switch(typeof c[k].clip){case "string":switch(c[k].clip){case "pause":VS.Player.remove();setTimeout(function(){VS.jQuery(document).trigger("next.vs-player-playlist")},c[k].duration);k++;break;case "empty":VS.Stats.setHash(c[k].hash);
VS.Stats.log("empty",null,VS.Stats.SEND_SERVER);k++;VS.jQuery(document).trigger("next.vs-player-playlist");break;case b:VS.Player.show("bottom-right",1,1,c[k].hash,{"auto-play":false});k++}break;default:switch(e){case a:VS.Player.show("bottom-right",1,1,c[k].clip[3],{"auto-play":false});k++;break;case "parallel":break;default:VS.Player.show.apply(VS.Player,c[k].clip);k++}}else if(e=="loop-forever"){k=0;VS.jQuery(document).trigger("next.vs-player-playlist")}else VS.jQuery(document).unbind("finishLoading.vs-player playbackPosition.vs-player",
f)});VS.jQuery(document).bind("finishLoading.vs-player playbackPosition.vs-player",f);c.length&&VS.jQuery(document).trigger("next.vs-player-playlist")};
function check_position(d,f,a,b,e){a=!1;if(d){var c=getOffsetRect(VS.jQuery("#"+VS.Player._containerId).get(0)),h=VS.jQuery("#"+VS.Player._containerId).width(),g=VS.jQuery("#"+VS.Player._containerId).height(),d=getOffsetRect(d),j=d.right-d.left,l=d.top-d.bottom,m=0,k=0;b&&(m=b);e&&(k=e);switch(f){case "move-right":c.left- -h-100-k>=d.left&&(a=!0);break;case "move-left":c.left- -70- -k<=d.left- -j&&(a=!0);break;case "move-down":c.top- -g-m>=d.top&&(a=!0);break;case "move-up":c.top- -0-m<=d.top- -l&&
(a=!0);break;case "move-diagonal-left-down":if(c.left- -70- -k<=d.left- -j||c.top- -g-m>=d.top)a=!0;break;case "move-diagonal-left-up":if(c.left- -70- -k<=d.left- -j||c.top- -0-m<=d.top- -l)a=!0;break;case "move-diagonal-right-down":if(c.left- -h-100-k>=d.left||c.top- -g-m>=d.top)a=!0;break;case "move-diagonal-right-up":if(c.left- -h-100-k>=d.left||c.top- -0-m<=d.top- -l)a=!0;break;case "scroll-down":c.top- -g-m>=d.top&&(a=!0);break;case "scroll-up":c.top- -0-m<=d.top- -l&&(a=!0);break;case "scroll-right":c.left-
-h-100-k>=d.left&&(a=!0);break;case "scroll-left":c.left- -70- -k<=d.left- -j&&(a=!0)}}return a}function getOffsetRect(d){return d.getBoundingClientRect()};
