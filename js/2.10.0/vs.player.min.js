/*
 VideoStir Player JavaScript library.
 @author Alexey Bass (@alexey_bass)
 @copyright VideoStir Ltd., http://videostir.com
*/
VS.jQuery(document).ready(function(){VS.Player.init()});
VS.Player={Version:"2.10.0",_containerId:"videostir-player",_containerInnerId:"videostir-player-inner",_preloadContainerId:"videostir-player-preload",_playerUrl:"http://8b249279a23ebe6382fe-bdbb90f389a017a4d0321ddd645160f1.r73.cf1.rackcdn.com/swf/140916/vs.player.swf",_mobileNavigatorRegexp:/webOS|iPhone|iPad|iPod|BlackBerry|Android/i,_mozilaRegExp:/Firefox/,_parallel:"false",_quiet:!1,init:function(){},parseLegacyVideo:function(c){if(-1!==c.indexOf("://videostir.com/")){var f=c.match(/\/go\/video\/([a-z0-9]{32})/);
return f&&2===f.length?f[1]:c}return c},show:function(c,f,d,b,e){e=e||{};!0!=VS.Player._parallel&&VS.Player.isExists()&&VS.Player.remove();VS.Player._containerId+=b.substr(0,3);VS.Player._containerInnerId+=b.substr(0,4);VS.Player._preloadContainerId+=b.substr(0,5);if(!VS.Player._mobileNavigatorRegexp.test(navigator.userAgent)||e.youtube){b=VS.Player.parseLegacyVideo(b);VS.Stats.setHash(b);var j=new VS.Player.Cookie(b),h=j.getViewsCount();if(e["fake-show-every"]&&Math.floor(Math.random()*e["fake-show-every"]+
1)===parseInt(e["fake-show-every"]))VS.Stats.trigger("jsFakeShow"),VS.Player._fakeShow=!0,j=new VS.Player.Cookie(b),j.addViewsCount();else{if(e["disable-player-threshold"]){if(h>=e["disable-player-threshold"])return;delete e["disable-player-threshold"]}var g=VS.jQuery.extend({},e);e.videostir_views=h;delete g.videostir_views;var k=VS.Player.makeCss(c,f,d),l=VS.Player.makePlayerParams(b,e);cur_url=window.location.href;VS.Stats.trigger("jsShow",VS.jQuery.extend({},{position:c,width:f,height:d},g));
VS.Stats.trigger("embedOn",cur_url);!0==VS.Player._quiet&&VS.Stats.trigger("silent","");VS.jQuery(document).ready(function(){VS.jQuery("body").append('<div id="'+VS.Player._containerId+'"></div>');var b=VS.jQuery("#"+VS.Player._containerId);b.css(k);var c="",h;for(h in k)c+=h+": "+k[h]+"; ";VS.jQuery.browser.msie&&(VS.swfobject.createCSS("#"+VS.Player._containerId,c),document.getElementById(VS.Player._containerId).setAttribute("style",c));b.append('<div id="'+VS.Player._containerInnerId+'"></div>');
e.youtube&&VS.Player._mobileNavigatorRegexp.test(navigator.userAgent)?(VS.Player.showYoutube(f,d,e.youtube),delete e.youtube):(VS.swfobject.embedSWF(VS.Player.getPlayerUrl(VS.Player.isSecure()),VS.Player._containerInnerId,f,d,"9.0.0","",l.flashvars,l.params,l.attributes),VS.Player.addLabel(e,b),j.addViewsCount())})}}},addLabel:function(c,f){if(void 0!==c.label){var d=c.label;if(void 0!==d.name||void 0!==d.title){var b={name:"",title:"","font-family":"Tahoma","font-size":11,"font-color":"white","bg-color":"black",
"bg-opacity":0.8,"start-sec":3,"remove-sec":10},e=0,j="",h="1em";void 0!==d.name&&void 0!==d.title&&(j="<br>",h="2em");for(key in d)switch(key){case "name":e=d.name.length;break;case "title":e<d.title.length&&(e=d.title.length);break;case "font-family":b["font-family"]=d["font-family"];break;case "font-size":b["font-size"]=parseInt(d["font-size"]);break;case "font-color":b["font-color"]=d["font-color"];break;case "bg-color":b["bg-color"]=d["bg-color"];break;case "bg-opacity":b["bg-opacity"]=parseFloat(d["bg-opacity"]);
break;case "start-sec":b["start-sec"]=parseInt(d["start-sec"]);break;case "remove-sec":b["remove-sec"]=parseInt(d["remove-sec"])}var g;g='<div id="player-title" style=" text-align:center;border-radius: 7px;'+("font-family: "+b["font-family"]+";");g+="font-size:"+b["font-size"]+"pt;";g+="color:"+b["font-color"]+";";g+="background-color:"+b["bg-color"]+"; ";g+="opacity:"+b["bg-opacity"]+";";g=g+("height: "+h+"; width: "+e+"ex; margin-top: 5px; margin-bottom: 5px; padding-top: 5px; padding-bottom: 5px;")+
'position: absolute;left:0px;top:0px; pointer-events:none;"><strong>'+(d.name+j+d.title);f.append(g+"</strong></div>");d=document.getElementById("player-title");e=window.getComputedStyle(d,null).getPropertyValue("width");d.style.left=parseInt(VS.jQuery("#"+VS.Player._containerId).width())/2-(parseInt(e)/2+15)+"px";d.style.top=2*(VS.jQuery("#"+VS.Player._containerId).height()/3)+"px";d=VS.jQuery("#player-title");d.hide();d.delay(1E3*parseInt(b["start-sec"])).fadeIn(2E3);d.delay(1E3*parseInt(b["remove-sec"])).fadeOut(2E3)}}},
showYoutube:function(c,f,d){var b=VS.jQuery("#"+VS.Player._containerId).prepend('<div class="toolbar" style="text-align: right;"><button onclick="VS.Player.remove();" style="font-size: 12pt;">[&times;] Close</button></div>');b.height(b.height()+b.find("div.toolbar").height());VS.jQuery("#"+VS.Player._containerInnerId).append('<iframe width="'+c+'" height="'+f+'" src="http'+(VS.Player.isSecure()?"s":"")+"://www.youtube.com/embed/"+d+'?rel=0" frameborder="0" allowfullscreen></iframe>')},createPreloadContainer:function(){0===
VS.Player._preloadContainerCounter&&VS.jQuery("body").append('<div id="'+VS.Player._preloadContainerId+'"></div>')},removePreloadContainer:function(){var c=VS.jQuery("#"+VS.Player._preloadContainerId);if(c.length){for(var f=c.find("> *"),d=0,b=f.length;d<b;d++)VS.swfobject.removeSWF(VS.jQuery(f[d]).attr("id"));c.remove()}},_preloadContainerCounter:0,addPreloadingItemContainer:function(){VS.Player._preloadContainerCounter++;var c=VS.Player._preloadContainerId+"-item-"+VS.Player._preloadContainerCounter;
VS.jQuery("#"+VS.Player._preloadContainerId).append('<div id="'+c+'"></div>');return c},on:function(c,f){return{show:function(){var d=arguments;VS.Player.createPreloadContainer();VS.swfobject.embedSWF(VS.Player.getPlayerUrl(VS.Player.isSecure()),VS.Player.addPreloadingItemContainer(),1,1,"9.0.0","",{videoHash:VS.Player.parseLegacyVideo(d[3]),https:VS.Player.isSecure()?1:0,autop:!1},{menu:"false"},{menu:"false"});VS.jQuery(c).on(f,function(){VS.Player.removePreloadContainer();VS.Player.show.apply(VS.Player,
d)})}}},preload:function(c){VS.jQuery(document).ready(function(){VS.Stats.trigger("jsPreload");VS.Player.createPreloadContainer();VS.swfobject.embedSWF(VS.Player.getPlayerUrl(VS.Player.isSecure()),VS.Player.addPreloadingItemContainer(),1,1,"9.0.0","",{videoHash:c,https:VS.Player.isSecure()?1:0,autop:!1},{menu:"false"},{menu:"false"})})},remove:function(){VS.swfobject.removeSWF(VS.Player._containerInnerId);VS.jQuery("#"+VS.Player._containerId).remove()},isExists:function(){return VS.jQuery("#"+VS.Player._containerId).length?
!0:!1},makeCss:function(c,f,d){var b={left:"auto",top:"auto",right:"auto",bottom:"auto",position:"fixed","z-index":"1000000",margin:"0",padding:"0",width:f+"px",height:d+"px"};if("string"===typeof c)switch(c){case "top-left":b.top="0px";b.left="0px";break;case "top-right":b.top="0px";b.right="0px";break;case "bottom-left":b.bottom="0px";b.left="0px";break;case "bottom-right":b.bottom="0px";b.right="0px";break;case "center":var c=VS.jQuery(window),e="number"===typeof window.innerHeight?window.innerHeight:
document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:c.height();b.left=(c.width()-f)/2+c.scrollLeft()+"px";b.top=(e-d)/2+c.scrollTop()+"px";b.right="auto";b.bottom="auto"}else if("object"===typeof c){for(e in c)switch(e){case "left":case "top":case "right":case "bottom":c[e]=String(c[e]);!isNaN(parseFloat(c[e]))&&isFinite(c[e])&&(c[e]+="px");break;case "object":obj=VS.jQuery('[name="'+c[e]+'"]');objPos=VS.jQuery(obj).get(0).getBoundingClientRect();
b.top=objPos.top;b.left=objPos.left;break;case "offsetTop":b.top-=-c[e];break;case "offsetLeft":b.left-=-c[e]}VS.jQuery.extend(b,c)}else b.left="0px",b.top="0px";VS.jQuery.browser.msie&&"BackCompat"==document.compatMode&&(b.top.length&&"auto"!=b.top?(b.position="absolute !important",b.top='expression(((document.documentElement.scrollTop || document.body.scrollTop) + (!this.offsetHeight && 0)) + "px")'):b.bottom.length&&"auto"!=b.bottom&&(b.position="absolute !important",b.top='expression(((document.documentElement.scrollTop || document.body.scrollTop) + (document.documentElement.clientHeight || document.body.clientHeight) - this.offsetHeight) + "px")',
b.bottom="auto"));return b},makePlayerParams:function(c,f){var d={flashvars:{},params:{},attributes:{}};d.flashvars.videoHash=encodeURIComponent(c);d.flashvars.https=VS.Player.isSecure()?1:0;d.flashvars.videostir_referer=encodeURIComponent(VS.Player.getReferrer());d.flashvars.vspv=VS.Player.Version;d.params.wmode="transparent";d.params.quality="high";d.params.allowScriptAccess="always";d.params.menu=!1;d.attributes.wmode="transparent";d.attributes.quality="high";d.attributes.allowScriptAccess="always";
d.attributes.menu=!1;for(var b in f)switch(b){case "auto-play":d.flashvars.autop=f[b];break;case "auto-play-limit":d.flashvars.maxPlayedTimes=f[b];break;case "playback-delay":d.flashvars.delayS=f[b];break;case "on-finish":switch(f[b]){case "remove":d.flashvars.afterDone="close";break;case "play-button":d.flashvars.afterDone="bigPlayButton";break;case "blank":d.flashvars.afterDone="empty"}break;case "rotation":d.flashvars.rotationG=f[b];break;case "zoom":d.flashvars.zoomPerc=f[b]/100;break;case "offset-x":d.flashvars.offsetOnX=
f[b];break;case "offset-y":d.flashvars.offsetOnY=f[b];break;case "on-click-open-url":d.flashvars.linkTo=!0;d.flashvars.goButtonUrl=encodeURIComponent(0===f[b].indexOf("http")?f[b]:"http://"+f[b]);break;case "on-click-open-url-target":switch(f[b]){case "blank":d.flashvars.goButtonLogic="newWindow";break;case "self":d.flashvars.goButtonLogic="sameWindow"}break;case "on-click-open-url-button-position":d.flashvars.goButtonFrame=1;switch(f[b]){case "left":case "center":case "right":d.flashvars.goButtonLocation=
f[b]}break;case "on-click-event":d.flashvars.linkTo=!0;break;case "clip-fps":d.flashvars.clipFps=f[b];break;case "playback-freeze-frame":d.flashvars.freeze=f[b];break;case "brand-id":d.flashvars.brandId=f[b];break;case "brand-onclick-open-url":d.flashvars.brandOnclickOpenUrl=encodeURIComponent(0===f[b].indexOf("http")?f[b]:"http://"+f[b]);break;case "quiet":VS.Player._quiet=!0;d.flashvars.quiet=f[b];break;case "movement":var e=[],j="fast";f[b].speed&&(j=f[b].speed);if(f[b].scenario){for(var h=0;h<
f[b].scenario.length;h++)e.push(f[b].scenario[h][0]);e.length&&(VS.jQuery(document).bind("atFrame.vs-player",{scenario:f[b].scenario},function(b,d){for(var e=0;e<b.data.scenario.length;e++){console.log(parseInt(d));if(parseInt(d)===parseInt(b.data.scenario[e][0]))if(typeof b.data.scenario[e][1]==="function")b.data.scenario[e][1].call(this,VS.jQuery("#"+VS.Player._containerId));else{var c=objPos=VS.jQuery("#"+VS.Player._containerId).get(0).getBoundingClientRect();if(b.data.scenario[e][1]!="scroll-up"&&
b.data.scenario[e][1]!="scroll-down"&&b.data.scenario[e][1]!="scroll-left"&&b.data.scenario[e][1]!="scroll-right"){VS.jQuery("#"+VS.Player._containerId).css("top",c.top);VS.jQuery("#"+VS.Player._containerId).css("left",c.left)}var c="=5",f=50,h=1E3,g=null,r=null,q=b.data.scenario[e][1];e<b.data.scenario.length-1&&(h=b.data.scenario[e+1][0]-5);j=1;c="=2";f=20;if(VS.Player._mozilaRegExp.test(navigator.userAgent)){f=40;j=1}switch(b.data.scenario[e][2]){case "very-fast":c="=10";break;case "fast":c="=4";
break;case "medium":c="=2";break;case "slow":c="=1";j=10;break;case "very-slow":c="=1";j=25;break;default:c="=5"}if(b.data.scenario[e][3]){Name=b.data.scenario[e][3];g=document.getElementById(Name);b.data.scenario[e][4]&&(r=b.data.scenario[e][4])}var n="=0",o="=0";switch(q){case "scroll-down":n="+"+c;break;case "scroll-up":n="-"+c;break;case "scroll-left":o="-"+c;break;case "scroll-right":o="+"+c;break;case "move-left":o="-"+c;break;case "move-right":o="+"+c;break;case "move-up":n="-"+c;break;case "move-down":n=
"+"+c;break;case "move-diagonal-left-up":n="-"+c;o="-"+c;break;case "move-diagonal-left-down":n="+"+c;o="-"+c;break;case "move-diagonal-right-up":n="-"+c;o="+"+c;break;case "move-diagonal-right-down":n="+"+c;o="+"+c}var t=setInterval(function(){(VS.Player.Api.getCurrentFrame()>h||check_position(g,q,null,r))&&clearInterval(t);q!="scroll-down"&&q!="scroll-up"&&q!="scroll-left"&&q!="scroll-right"?VS.jQuery("#"+VS.Player._containerId).animate({top:n,left:o},j):VS.jQuery("html,body").animate({scrollTop:n,
scrollLeft:o},j)},f)}}}),d.flashvars.framesToReport=e)}break;case "url-jumps":var g='<iframe id="videostir-jumps-container" frameborder="0"';(!f[b].fullscreen||!0===f[b].fullscreen)&&VS.jQuery("html, body").css({width:"100%",height:"100%",margin:0,padding:0,overflow:"hidden"});f[b].css&&(g+=' style="'+f[b].css+'"');e=[];if(f[b].scenario){"start"===f[b].scenario[0][0]&&(g+=' src="'+f[b].scenario[0][1]+'"',f[b].scenario=f[b].scenario.slice(1));for(h=0;h<f[b].scenario.length;h++)"end"===f[b].scenario[h][0]?
VS.jQuery(document).bind("playbackPosition.vs-player",{scenario:f[b].scenario[h]},function(b,e){if(parseInt(e)===100)b.data.scenario[1]==="close"?window.close():window.location.href=b.data.scenario[1]}):(e.push(f[b].scenario[h][0]),VS.jQuery(document).bind("atFrame.vs-player",{scenario:f[b].scenario[h]},function(b,e){parseInt(e)===parseInt(b.data.scenario[0])&&VS.jQuery("#videostir-jumps-container").attr("src",b.data.scenario[1])}))}g+="></iframe>";VS.jQuery("body").append(g);d.flashvars.framesToReport=
e;break;case "framesToReportAll":d.flashvars.framesToReportAll=f[b];1===f[b]&&VS.jQuery(document).bind("atFrame.vs-player",function(b,e){console.log(e)});break;default:d.flashvars[b]=f[b]}d.flashvars.freeze&&(d.flashvars.autop=!0,d.flashvars.maxPlayedTimes=1E4);VS.jQuery(document).bind("bigBtnPlay.vs-player",{},function(){VS.Player._quiet=false;VS.jQuery(document).trigger("bigPlay")});VS.jQuery(document).bind("btnPlay.vs-player",{},function(){VS.Player._quiet=false});return d},getReferrer:function(){return window.location.href},
getPlayerUrl:function(c){return c?"https"+VS.Player._playerUrl.replace(/\.r[0-9]{2}\./,".ssl.").substr(4):VS.Player._playerUrl},isSecure:function(){return"https:"===document.location.protocol?!0:!1}};
VS.Player.Cookie=function(c){var f,d,b,e,j,h,g=function(b){var e=[0,0];if(-1!==b.indexOf("|")){var b=b.split("|"),c;for(c in b)e[c]=parseInt(b[c])}else e[0]=parseInt(b);return e};this.getViewsCount=function(){return e[0]};this.getLastViewed=function(){return e[1]};this.getFirstLastViewed=function(){return j[1]};this.addViewsCount=function(b){b=e[0]+(b||1)+"|"+Math.round((new Date).getTime()/1E3);VS.Player._fakeShow||(VS.jQuery.cookie(f,b,{expires:365}),e=b);if(1==e[0]||0==e[0])show=VS.Player._fakeShow?
1:2,session_id=VS.Stats._sessionId,b=show+"|"+Math.round((new Date).getTime()/1E3)+"|"+session_id,VS.jQuery.cookie(d,b,{expires:365}),j=b};this.addConversUrls=function(){cur_url=window.location.href;var e="";if(0==h[0])e=cur_url;else{for(i=0;i<h.length;i++)e+=h[i]+"|";e+=cur_url}VS.jQuery.cookie(b,e,{expires:365});h=g(e)};this.checkShow=function(){return 1==j[0]?!1:!0};this.check_vsf=function(){return 0==j[0]?!1:!0};this.check_vsc=function(){result=!1;cur_url=window.location.href;if(0!=h[0])for(i=
0;i<h.length;i++)h[i]===cur_url&&(result=!0);return result};this.getFirstSessionId=function(){return j[2]};f="vsv"+c;d="vsf"+c;b="vsc"+c;e=(e=VS.jQuery.cookie(f))?g(e):[0,0];j=(j=VS.jQuery.cookie(d))?g(j):[0,0,0,0,0];if(h=VS.jQuery.cookie(b)){var c=h,k=[0];if(-1!==c.indexOf("|")){var c=c.split("|"),l;for(l in c)k[l]=c[l]}else k[0]=c;h=k}else h=[0]};
VS.Player.Api={play:function(c){c=0<=c?c:VS.Player.Api.getCurrentFrame();try{return VS.swfobject.getObjectById(VS.Player._containerInnerId).play(c),!0}catch(f){}return!1},pause:function(){try{return VS.swfobject.getObjectById(VS.Player._containerInnerId).pause(),!0}catch(c){}return!1},getCurrentFrame:function(){try{return VS.swfobject.getObjectById(VS.Player._containerInnerId).getCurrentFrame()}catch(c){}return!1}};
(function(c,f,d){var b={_level:0,_statsUrl:VS.Player.isSecure()?"//videostir.com/stats/analytics/":"//stats.videostir.net/analytics/",_statsUrl1:VS.Player.isSecure()?"//secure.bwebi.co/videostir/get-stats.php":"//videostir.bwebi.biz/get-stats.php",_sendTimeout:200,_videoHash:"",_sessionId:0,_sequenceNumber:0,SEND_DISABLED:0,SEND_CONSOLE:1,SEND_SERVER:2,SEND_STATS:1,_stack:[],init:function(){b._sessionId=b.generateSessionId();b.bindListenners();c(d).ready(function(){b.trigger("jsDomReady")})},enable:function(e){b._level===
b.SEND_CONSOLE&&(e===b.SEND_SERVER?e=b._level+b.SEND_SERVER:e===b.SEND_DISABLED&&(e=b.SEND_CONSOLE));b._level=parseInt(e);b._conversionLogicAttached||b.attachConversionLogic();b._level&b.SEND_SERVER&&b.sendPendingEventsFromStack()},setHash:function(e){b._videoHash=b.findHash(e)},_conversionLogicAttached:!1,sendPendingEventsFromStack:function(){var e,c,d;for(e in b._stack)c=b._stack[e],d=c[0],0===d&&(c[0]=1,b.sendEvent(c[1],c[2],c[3],c[4],c[5]))},attachConversionLogic:function(){b._conversionLogicAttached=
!0;c(".vs-stats-conversion-onclick").on("click",function(e){b.triggerConversion(e)})},findHash:function(b){return(b=b.match(/(as-[a-z0-9]{32}|[a-z0-9]{32})/))&&2===b.length?b[1]:!1},generateSessionId:function(){return parseInt(Math.floor(428*Math.random()+11)+""+((new Date).getTime()+"").substr(6))},bindListenners:function(){c(d).bind("jsShow jsDomReady jsUnload jsFakeShow jsPreload initFlash startLoading finishLoading loadError pause play mute unmute remove playbackPosition gotoLink gotoHome onclick conversion unique empty silent bigPlay embedOn".split(" ").join(".vs-player ")+
".vs-player",function(e,c){b.log(e.type,c)});c(f).bind("beforeunload",function(){b.log("jsUnload")})},trigger:function(b,f){(f=f||!1)?c(d).trigger(b+".vs-player",[f]):c(d).trigger(b+".vs-player")},_conversionElement:null,triggerConversion:function(e){var d=c(e.currentTarget);b._conversionElement=d;d.is("a")&&e.preventDefault();e=e.currentTarget.nodeName;d.attr("vs-conversion-id")&&(e+=" conversion-id="+d.attr("vs-conversion-id"));b.trigger("conversion",e)},log:function(e,c,d){var d=d||b._level,g=
b._sequenceNumber++,k=(new Date).getTime()-VS._zeroTime,l=0;if(!b.isJunkEvent(e,k,c)){if(d&b.SEND_CONSOLE&&f.console){var p=b._stack.length?k-b._stack[b._stack.length-1][3]:0,p="("+(p&&(1E3<p?(p/1E3).toFixed(1)+" s":p+" ms"))+")";console.log(b._videoHash,b._sessionId,g,k,p,e,c?c:"")}VS.Player._quiet&&"playbackPosition"==e&&(c+=":quiet");d&b.SEND_SERVER&&(b.sendEvent(b._videoHash,g,k,e,c),l=1);VS.Player._fakeShow&&b.sendEvent(b._videoHash,g,k,"jsFakeShow",c);d=new VS.Player.Cookie(b._videoHash);unique=
views=d.getViewsCount();b._stack.push([l,b._videoHash,g,k,e,c,unique]);"playbackPosition"===e&&"0"===c&&(d=new VS.Player.Cookie(b._videoHash),1===d.getViewsCount()&&b.trigger("unique"))}},isJunkEvent:function(c,d,f){var g=!1;if(!b._stack.length)return g;var k=b._stack[b._stack.length-1];"playbackPosition"===c?k[5]===f&&(g=!0):k[4]===c&&100>Math.abs(d-k[3])&&(g=!0);return g},sendEvent:function(e,d,h,g,k){var l=new VS.Player.Cookie(e);firstSessionId=l.getFirstSessionId();unique=views=l.getViewsCount();
sessionId="conversion"==g?firstSessionId:b._sessionId;if(1==b.SEND_STATS||3==b.SEND_STATS)c.ajax({type:"get",url:b._statsUrl,data:{h:e,s:b._sessionId,n:d,t:h,e:g,d:k,u:unique},async:"jsUnload"===g?!1:!0,crossDomain:!0,cache:!1,dataType:"jsonp",jsonp:"vs",jsonpCallback:"_",processData:!0,timeout:b._sendTimeout,fail:function(){f.log&&console.log("sendEvent ajax fail",arguments)},complete:function(){"conversion"===g&&(b._conversionElement&&b._conversionElement.is("a"))&&(f.location=b._conversionElement.attr("href"),
b._conversionElement=null)}});2<=b.SEND_STATS&&c.ajax({type:"get",url:b._statsUrl1,data:{h:e,s:b._sessionId,n:d,t:h,e:g,d:k,u:unique},async:"jsUnload"===g?!1:!0,crossDomain:!0,cache:!1,dataType:"jsonp",jsonp:"vs",jsonpCallback:"_",processData:!0,timeout:b._sendTimeout,fail:function(){f.log&&console.log("sendEvent ajax fail",arguments)},complete:function(){"conversion"===g&&(b._conversionElement&&b._conversionElement.is("a"))&&(f.location=b._conversionElement.attr("href"),b._conversionElement=null)}})},
markConversion_old:function(c){var d=new VS.Player.Cookie(c),f=Math.round(VS._zeroTime/1E3);0===d.getViewsCount()?(b.setHash(c),b.enable(b.SEND_SERVER),b.trigger("conversion",-1)):1===d.getViewsCount()&&108E3>f-d.getLastViewed()&&(b.setHash(c),b.enable(b.SEND_SERVER),b.trigger("conversion",1))},markConversion:function(c){var d=new VS.Player.Cookie(c),h=Math.round(VS._zeroTime/1E3);d.check_vsf()&&(!d.check_vsc()&&!(2<d.getViewsCount()))&&(d.checkShow()?1800<h-d.getLastViewed()||(cur_url=f.location.href,
b.setHash(c),b.enable(b.SEND_SERVER),b.trigger("conversion",cur_url),d.addConversUrls()):1<d.getViewsCount()||(b.setHash(c),b.enable(b.SEND_SERVER),b.trigger("conversion",-1),d.addConversUrls()))}};f.VS.Stats=b;b.init()})(VS.jQuery,window,document);
VS.Player.Playlist=function(c){function f(c,f){switch(c.type){case "finishLoading":"string"===typeof j[m-1].clip&&j[m-1].clip===b?VS.jQuery(document).trigger("next.vs-player-playlist"):e===d&&VS.jQuery(document).trigger("next.vs-player-playlist");break;case "playbackPosition":100===parseInt(f)&&VS.jQuery(document).trigger("next.vs-player-playlist")}}var d="trigger",b="preload",e=c.settings.strategy||"default",j,h=c.clips,c=[],g;switch(e){case "show-one-never-seen":var k;for(g in h)if("object"===typeof h[g].clip&&
(k=h[g].clip[3],0===(new VS.Player.Cookie(k)).getViewsCount())){c.push(h[g]);break}break;case "random":c.push(h[Math.floor(Math.random()*h.length)]);break;case "random-weight":k=[];var l=0,p=0;for(g in h)l+=h[g].weight||0,k.push(l);l=Math.round(Math.random()*l);for(g in k)if(l<k[g]){p=g;break}c.push(h[p]);break;case d:for(g in h)(function(b){VS.jQuery("#"+h[b].target).bind(h[b].action+".videostir",function(c){-1!==["mouseenter","mouseleave","mousemove","mouseout","mouseover"].indexOf(c.type)&&VS.jQuery("#"+
h[b].target).unbind(".videostir");VS.Player.show.apply(VS.Player,h[b].clip.slice(0))})})(g),c.push(h[g]);break;default:c=h}j=c;var m=0;"loop-forever"==e&&(VS.Player._parallel=!0);if("parallel"==e){VS.Player._parallel=!0;var s=setInterval(function(){m>j.length-1&&clearInterval(s);m<j.length&&VS.Player.show.apply(VS.Player,j[m++].clip)},10)}else VS.jQuery(document).bind("next.vs-player-playlist",function(){if(m<j.length)switch(typeof j[m].clip){case "string":switch(j[m].clip){case "pause":VS.Player.remove();
setTimeout(function(){VS.jQuery(document).trigger("next.vs-player-playlist")},j[m].duration);m++;break;case "empty":VS.Stats.setHash(j[m].hash);VS.Stats.log("empty",null,VS.Stats.SEND_SERVER);m++;VS.jQuery(document).trigger("next.vs-player-playlist");break;case b:VS.Player.show("bottom-right",1,1,j[m].hash,{"auto-play":false});m++}break;default:switch(e){case d:VS.Player.show("bottom-right",1,1,j[m].clip[3],{"auto-play":false});m++;break;case "parallel":break;default:VS.Player.show.apply(VS.Player,
j[m].clip);m++}}else if(e=="loop-forever"){m=0;VS.jQuery(document).trigger("next.vs-player-playlist")}else VS.jQuery(document).unbind("finishLoading.vs-player playbackPosition.vs-player",f)});VS.jQuery(document).bind("finishLoading.vs-player playbackPosition.vs-player",f);j.length&&VS.jQuery(document).trigger("next.vs-player-playlist")};
function check_position(c,f,d,b){d=!1;if(c)switch(PlayerPos=VS.jQuery("#"+VS.Player._containerId).get(0).getBoundingClientRect(),PlayerWidth=VS.jQuery("#"+VS.Player._containerId).width(),PlayerHeight=VS.jQuery("#"+VS.Player._containerId).height(),objPos=c.getBoundingClientRect(),objWidth=objPos.right-objPos.left,objHeight=objPos.top-objPos.bottom,shiftLeft=shiftTop=upShift=0,b&&(a=b.split(","),a[0]&&(shiftTop=parseInt(a[0])),a[1]&&(shiftLeft=parseInt(a[1]))),f){case "move-right":PlayerPos.left- -PlayerWidth-
100-shiftLeft>=objPos.left&&(d=!0);break;case "move-left":PlayerPos.left- -70- -shiftLeft<=objPos.left- -objWidth&&(d=!0);break;case "move-down":PlayerPos.top- -PlayerHeight-shiftTop>=objPos.top&&(d=!0);break;case "move-up":PlayerPos.top- -upShift-shiftTop<=objPos.top- -objHeight&&(d=!0);break;case "move-diagonal-left-down":if(PlayerPos.left- -70- -shiftLeft<=objPos.left- -objWidth||PlayerPos.top- -PlayerHeight-shiftTop>=objPos.top)d=!0;break;case "move-diagonal-left-up":if(PlayerPos.left- -70- -shiftLeft<=
objPos.left- -objWidth||PlayerPos.top- -upShift-shiftTop<=objPos.top- -objHeight)d=!0;break;case "move-diagonal-right-down":if(PlayerPos.left- -PlayerWidth-100-shiftLeft>=objPos.left||PlayerPos.top- -PlayerHeight-shiftTop>=objPos.top)d=!0;break;case "move-diagonal-right-up":if(PlayerPos.left- -PlayerWidth-100-shiftLeft>=objPos.left||PlayerPos.top- -upShift-shiftTop<=objPos.top- -objHeight)d=!0;break;case "scroll-down":PlayerPos.top- -PlayerHeight-shiftTop>=objPos.top&&(d=!0);break;case "scroll-up":PlayerPos.top-
-upShift-shiftTop<=objPos.top- -objHeight&&(d=!0);break;case "scroll-right":PlayerPos.left- -PlayerWidth-100-shiftLeft>=objPos.left&&(d=!0);break;case "scroll-left":PlayerPos.left- -70- -shiftLeft<=objPos.left- -objWidth&&(d=!0)}return d}function sleep(c){for(var f=(new Date).getTime();(new Date).getTime()<f+c;);};
